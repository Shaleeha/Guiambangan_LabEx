(self.webpackJsonp=self.webpackJsonp||[]).push([[12],{1070:function(e,t,n){"use strict";n.r(t);n(9),n(757);var r=n(1),i=n(101),a=n.n(i),o=n(0),s=n(46),l=n(2),c=n(170);function p(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.PureComponent{constructor(...e){super(...e),p(this,"state",{layout:null}),p(this,"_handleImageLoad",e=>{const t=e.target;this.setState({layout:{height:t.naturalHeight,width:t.naturalWidth}})})}render(){var e,t;const{selectedFile:n,files:i}=this.props,a=n.includes(".")?n.split(".").pop():null;return o.createElement("div",{className:Object(r.css)(h.container)},o.createElement("div",{className:Object(r.css)(h.inner)},Object(c.g)(n.toLowerCase())?o.createElement("img",{onLoad:this._handleImageLoad,className:Object(r.css)(h.preview),src:null===(e=i[n])||void 0===e?void 0:e.contents}):o.createElement("svg",{width:"120px",height:"168px",viewBox:"0 0 120 168"},o.createElement("mask",{id:"mask-2",fill:"white"},o.createElement("rect",{x:"0",y:"0",width:"119.25",height:"168"})),o.createElement("g",{mask:"url(#mask-2)",fillRule:"nonzero",fill:Object(l.a)("border")},o.createElement("path",{d:"M2.25,0 L117.75,0 L117.75,0 C118.992641,-2.28269391e-16 120,1.00735931 120,2.25 L120,165.75 L120,165.75 C120,166.992641 118.992641,168 117.75,168 L2.25,168 L2.25,168 C1.00735931,168 1.52179594e-16,166.992641 0,165.75 L0,2.25 L0,2.25 C-1.52179594e-16,1.00735931 1.00735931,2.28269391e-16 2.25,0 Z M75,0 L120,45 L120,0 L75,0 Z"}),o.createElement("path",{d:"M77.25,-3 L120.75,-3 C121.992641,-3 123,-1.99264069 123,-0.75 L123,42.75 C123,43.9926407 121.992641,45 120.75,45 L77.25,45 C76.0073593,45 75,43.9926407 75,42.75 L75,-0.75 L75,-0.75 C75,-1.99264069 76.0073593,-3 77.25,-3 L77.25,-3 Z M75,0 L120,45 L120,0 L75,0 Z",fillOpacity:"0.2",fill:"#000000"}),o.createElement("text",{className:Object(r.css)(h.ext)},o.createElement("tspan",{x:"56",y:"100"},a?".".concat(a):"")))),o.createElement("a",{className:Object(r.css)(h.link),href:null===(t=i[n])||void 0===t?void 0:t.contents,target:"_blank",title:"Open in tab"},o.createElement("h4",{className:Object(r.css)(h.name)},n.split("/").pop())),o.createElement("div",{className:Object(r.css)(h.layout)},this.state.layout?"".concat(this.state.layout.height," x ").concat(this.state.layout.width):" ")))}}const h=r.StyleSheet.create({container:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},inner:{maxHeight:"100%",maxWidth:"100%",textAlign:"center"},name:{marginTop:"2em",fontWeight:500},layout:{opacity:.5},preview:{maxHeight:"100%",maxWidth:"100%",height:"auto",width:"auto"},ext:{fill:Object(l.a)("text"),fontFamily:"var(--font-monospace)",textAnchor:"middle",fontSize:20,opacity:.8},link:{textDecoration:"none",color:"inherit"}});var m=n(748),u=n(745),b=n(989),g=n(171);class f extends o.Component{render(){return o.createElement("div",{className:Object(r.css)(y.container)},o.createElement("p",{className:Object(r.css)(y.text)},"It seems that you don't have Orbit installed on your computer. To download the latest release, please visit our"," ",o.createElement("a",{href:"https://github.com/expo/orbit/releases",target:"blank"},"GitHub releases page"),"."))}}var v=Object(g.a)(f);const y=r.StyleSheet.create({container:{margin:-12,textAlign:"left"},text:{margin:12}});var E=n(616),w=n(32),x=n.n(w),S=n(94);function j({sdkVersion:e,isLocalWebPreview:t,onChange:n,selectClassName:i}){const a=Object.keys(S.b).sort(),s=a.filter(t=>S.b[t]||t===e);return t&&s.push("localhost"),o.createElement("div",{className:Object(r.css)(C.container)},o.createElement("span",{className:Object(r.css)(C.label)},"Expo"),o.createElement("span",{className:Object(r.css)(C.switcher)},o.createElement("select",{value:t?"localhost":e,onChange:e=>n("localhost"===e.target.value?a[a.length-1]:e.target.value,"localhost"===e.target.value),className:x()(Object(r.css)(C.select),i)},s.map(e=>o.createElement("option",{className:Object(r.css)(C.option),key:e,value:e},"localhost"===e?e:"v".concat(e))))))}const C=r.StyleSheet.create({container:{display:"flex",alignItems:"center",whiteSpace:"nowrap",marginRight:".5em"},switcher:{position:"relative",display:"inline-block",":after":{content:'"▼"',color:Object(l.a)("soft"),position:"absolute",fontSize:"0.6em",right:"2em",top:"0.66em",pointerEvents:"none"}},label:{flex:1,margin:"0 .5em","@media (max-width: 480px)":{display:"none"}},select:{appearance:"none",backgroundColor:"transparent",padding:"0 2em 0 1em",borderRadius:12,outline:0,cursor:"pointer",border:"1px solid ".concat(Object(l.a)("border"))},option:{backgroundColor:Object(l.a)("content"),color:Object(l.a)("text")}});var O=n(221),_=n(670),k=n(618),L=n(661),D=n(669),N=n(559),P=n(535),M=n(77);function I(e){var t;const{annotations:i,connectedDevices:a,fileTreeShown:s,previewShown:l,panelsShown:c,sendCodeOnChangeEnabled:p,editorMode:d,sdkVersion:h,isLocalWebPreview:m,onSendCode:u,onReloadSnack:b,onToggleTheme:g,onTogglePanels:f,onToggleFileTree:v,onTogglePreview:y,onToggleSendCode:w,onToggleVimMode:x,onChangeSDKVersion:S,onShowModal:C,onPrettifyCode:M,theme:I}=e,F=a.length>1?"apps":"app",R=a.length>1?"devices":"device",A=i.filter(e=>e.severity<0),W=A.length>=1,z=!W&&i.some(e=>e.severity>3),H=i.filter(e=>2===e.severity).length;let B;if(W)B=W?"".concat(A[0].message).concat(A.length>1?" (+".concat(A.length-1," more)"):""):"";else{const e=i.filter(e=>e.severity>=3);if(e.length){const{message:t,location:n,action:i}=e[0],a=n?"".concat(n.fileName," (").concat(n.startLineNumber,":").concat(n.startColumn,") "):"",s=i?o.createElement("span",{className:Object(r.css)(T.action),onClick:e=>{e.stopPropagation(),i.run()}},i.title):e.length>1?"(+".concat(e.length-1," more)"):"";B=o.createElement("span",null,a,t.split("\n")[0]+" ",s)}}return o.createElement(O.a,{type:W?"loading":z?"error":null},o.createElement("div",{className:Object(r.css)(T.left)},W?o.createElement(L.a,{className:Object(r.css)(T.loadingText),onClick:()=>f("errors")},B):o.createElement("button",{onClick:()=>f(B?"errors":void 0),className:Object(r.css)(T.statusText,B?z?T.errorTextFatal:T.errorText:T.successText)},null!==(t=B)&&void 0!==t?t:"No errors".concat(H?", ".concat(H," warning").concat(H>1?"s":""):""))),o.createElement(_.a,{icon:n(759),onClick:M},o.createElement("span",{className:Object(r.css)(T.buttonLabel)},"Prettier")),o.createElement(D.a,{icon:n(671),label:o.createElement("span",{className:Object(r.css)(T.buttonLabel)},"Editor"),content:o.createElement(o.Fragment,null,o.createElement("div",{className:Object(r.css)(T.buttonItem,T.buttonItemEditorPane),onClick:()=>C("shortcuts")},o.createElement(k.a,{small:!0,title:"Show keyboard shortcuts",label:"Shortcuts"}),o.createElement(N.a,{combo:E.a.shortcuts.combo,className:Object(r.css)(T.buttonItemShortcut)})),o.createElement("div",{className:Object(r.css)(T.menuSeparator)}),o.createElement(P.a,{checked:s,onChange:v,label:"Files"}),o.createElement(P.a,{checked:c,onChange:()=>f(),label:"Panel"}),o.createElement(P.a,{checked:"light"!==I,onChange:g,label:"Dark theme"}),x?o.createElement(P.a,{checked:"vim"===d,onChange:x,label:"Vim mode"}):null)}),o.createElement(j,{sdkVersion:h,isLocalWebPreview:m,onChange:S,selectClassName:z&&Object(r.css)(T.errorBorder)||void 0}),o.createElement(D.a,{label:o.createElement(o.Fragment,null,o.createElement("span",{className:Object(r.css)(T.buttonLabel)},"Devices"),o.createElement("span",{className:Object(r.css)(T.devicesCount)},a.length)),content:o.createElement("div",{className:Object(r.css)(T.devicePane)},a.length?o.createElement(o.Fragment,null,o.createElement("div",{className:Object(r.css)(T.devicePaneItem)},o.createElement(P.a,{checked:p,onChange:w,label:"Update as you type"})),o.createElement("div",{className:Object(r.css)(T.buttonItem)},o.createElement(k.a,{small:!0,title:"Update changes on connected ".concat(R),label:"Update now",onClick:u},o.createElement("svg",{width:"14px",height:"17px",viewBox:"0 0 14 17"},o.createElement("path",{transform:"translate(-5.000000, -3.000000)",d:"M9,16 L15,16 L15,10 L19,10 L12,3 L5,10 L9,10 L9,16 Z M5,18 L19,18 L19,20 L5,20 L5,18 Z"}))),o.createElement(N.a,{combo:E.a.update.combo})),o.createElement("div",{className:Object(r.css)(T.buttonItem)},o.createElement(k.a,{small:!0,title:"Reload ".concat(F," on connected ").concat(R),label:"Reload ".concat(F),onClick:b},o.createElement("svg",{width:"16px",height:"20px",viewBox:"0 0 16 20"},o.createElement("path",{d:"M8,3.5 L8,0 L3,5 L8,10 L8,5.5 C11.314,5.5 14,8.186 14,11.5 C14,14.814 11.314,17.5 8,17.5 C4.686,17.5 2,14.814 2,11.5 L0,11.5 C0,15.918 3.582,19.5 8,19.5 C12.418,19.5 16,15.918 16,11.5 C16,7.082 12.418,3.5 8,3.5"})))),o.createElement("h4",{className:Object(r.css)(T.title)},"Connected devices"),a.map(e=>o.createElement("div",{key:e.id,className:Object(r.css)(T.deviceLabel)},"android"===e.platform?o.createElement("svg",{className:Object(r.css)(T.deviceIcon),width:"16px",height:"20px",viewBox:"0 0 16 20"},o.createElement("path",{transform:"translate(-16.000000, -146.000000)",d:"M19.2,160.325197 C19.2,160.762881 19.56,161.120986 20,161.120986 L20.8,161.120986 L20.8,163.906247 C20.8,164.566752 21.336,165.099931 22,165.099931 C22.664,165.099931 23.2,164.566752 23.2,163.906247 L23.2,161.120986 L24.8,161.120986 L24.8,163.906247 C24.8,164.566752 25.336,165.099931 26,165.099931 C26.664,165.099931 27.2,164.566752 27.2,163.906247 L27.2,161.120986 L28,161.120986 C28.44,161.120986 28.8,160.762881 28.8,160.325197 L28.8,152.367307 L19.2,152.367307 L19.2,160.325197 L19.2,160.325197 Z M17.2,152.367307 C16.536,152.367307 16,152.900485 16,153.56099 L16,159.131513 C16,159.792018 16.536,160.325197 17.2,160.325197 C17.864,160.325197 18.4,159.792018 18.4,159.131513 L18.4,153.56099 C18.4,152.900485 17.864,152.367307 17.2,152.367307 L17.2,152.367307 Z M30.8,152.367307 C30.136,152.367307 29.6,152.900485 29.6,153.56099 L29.6,159.131513 C29.6,159.792018 30.136,160.325197 30.8,160.325197 C31.464,160.325197 32,159.792018 32,159.131513 L32,153.56099 C32,152.900485 31.464,152.367307 30.8,152.367307 L30.8,152.367307 Z M26.824,147.719899 L27.868,146.681394 C28.024,146.526215 28.024,146.275542 27.868,146.120363 C27.712,145.965184 27.46,145.965184 27.304,146.120363 L26.12,147.294152 C25.48,146.979815 24.764,146.796784 24,146.796784 C23.232,146.796784 22.512,146.979815 21.868,147.298131 L20.68,146.116384 C20.524,145.961205 20.272,145.961205 20.116,146.116384 C19.96,146.271563 19.96,146.522237 20.116,146.677415 L21.164,147.719899 C19.976,148.591288 19.2,149.991877 19.2,151.571518 L28.8,151.571518 C28.8,149.987898 28.02,148.587309 26.824,147.719899 L26.824,147.719899 Z M26,149.978945 C26.2209139,149.978945 26.4,149.800802 26.4,149.581051 C26.4,149.361299 26.2209139,149.183156 26,149.183156 C25.7790861,149.183156 25.6,149.361299 25.6,149.581051 C25.6,149.800802 25.7790861,149.978945 26,149.978945 Z M22,149.978945 C22.2209139,149.978945 22.4,149.800802 22.4,149.581051 C22.4,149.361299 22.2209139,149.183156 22,149.183156 C21.7790861,149.183156 21.6,149.361299 21.6,149.581051 C21.6,149.800802 21.7790861,149.978945 22,149.978945 Z"})):"ios"===e.platform?o.createElement("svg",{className:Object(r.css)(T.deviceIcon),width:"16px",height:"16px",viewBox:"0 0 16 16"},o.createElement("path",{d:"M5,0 L11,0 C13.7614237,-5.07265313e-16 16,2.23857625 16,5 L16,11 C16,13.7614237 13.7614237,16 11,16 L5,16 C2.23857625,16 3.38176876e-16,13.7614237 0,11 L0,5 C-3.38176876e-16,2.23857625 2.23857625,5.07265313e-16 5,0 Z M2.79296875,11 L3.5,11 L3.5,6.890625 L2.79296875,6.890625 L2.79296875,11 Z M2.64453125,5.625 C2.64453125,5.90625 2.859375,6.11328125 3.140625,6.11328125 C3.4375,6.11328125 3.65234375,5.90625 3.65234375,5.625 C3.65234375,5.33984375 3.4375,5.1328125 3.140625,5.1328125 C2.859375,5.1328125 2.64453125,5.33984375 2.64453125,5.625 Z M9.20385423,8.71875 L9.20385423,7.94921875 C9.20385423,6.4375 8.36401048,5.55859375 7.05541673,5.55859375 C5.74682298,5.55859375 4.90697923,6.43359375 4.90697923,7.94921875 L4.90697923,8.71875 C4.90697923,10.2304688 5.74682298,11.109375 7.05541673,11.109375 C8.36401048,11.109375 9.20385423,10.2304688 9.20385423,8.71875 Z M10.1616147,9.64453125 C10.2358335,10.5039062 10.962396,11.109375 12.0913022,11.109375 C13.321771,11.109375 14.0913022,10.4726562 14.0913022,9.50390625 C14.0913022,8.7265625 13.634271,8.2890625 12.7006772,8.046875 L11.790521,7.80859375 C11.3022397,7.6875 11.040521,7.4296875 11.040521,7.0546875 C11.040521,6.53515625 11.4897397,6.1796875 12.1616147,6.1796875 C12.7827085,6.1796875 13.2045835,6.4765625 13.3022397,6.9453125 L14.024896,6.9453125 C13.9428647,6.1328125 13.228021,5.54296875 12.1733335,5.54296875 C11.087396,5.54296875 10.3100522,6.18359375 10.3100522,7.08984375 C10.3100522,7.8046875 10.7709897,8.29296875 11.571771,8.5 L12.4975522,8.73828125 C13.0952085,8.890625 13.3647397,9.13671875 13.3647397,9.5625 C13.3647397,10.1171875 12.9077085,10.4726562 12.165521,10.4726562 C11.4702085,10.4726562 10.9897397,10.1484375 10.8881772,9.64453125 L10.1616147,9.64453125 Z M8.48119798,7.94921875 L8.48119798,8.72265625 C8.48119798,9.89453125 7.86401048,10.4648438 7.05541673,10.4648438 C6.24291673,10.4648438 5.62963548,9.89453125 5.62963548,8.72265625 L5.62963548,7.94921875 C5.62963548,6.7734375 6.24291673,6.203125 7.05541673,6.203125 C7.86401048,6.203125 8.48119798,6.7734375 8.48119798,7.94921875 Z"})):o.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",className:Object(r.css)(T.deviceIcon),style:{stroke:"currentColor"}},o.createElement("g",{strokeWidth:"1",fill:"none"},o.createElement("circle",{cx:"9",cy:"9",r:"8"}),o.createElement("rect",{x:"2",y:"11",width:"14",height:"0.5"}),o.createElement("rect",{x:"2",y:"6",width:"14",height:"0.5"}),o.createElement("ellipse",{cx:"9",cy:"9",rx:"3",ry:"8"}))),e.name))):o.createElement("div",{className:Object(r.css)(T.noDevicesMessage)},"No devices connected"))}),o.createElement("div",{className:Object(r.css)(T.devicePreviewSwitch)},o.createElement(P.a,{checked:l,onChange:y,label:"Preview"})))}const T=r.StyleSheet.create({left:{display:"flex",alignItems:"stretch",flex:1,minWidth:0,overflow:"hidden"},loadingText:{textOverflow:"ellipsis",whiteSpace:"nowrap",padding:".5em",width:"100%",cursor:"pointer"},statusText:{border:0,outline:0,margin:0,appearance:"none",backgroundColor:"transparent",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"1em center",display:"inline-block",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:".25em .5em .25em 3em",minWidth:200,width:"100%",textAlign:"left"},successText:{backgroundImage:"url(".concat(n(760),")")},errorText:{backgroundImage:"url(".concat(n(672),")"),color:Object(l.a)("error")},errorTextFatal:{backgroundImage:"url(".concat(n(761),")")},errorBorder:{borderColor:Object(l.a)("error-text")},devicesCount:{position:"absolute",top:4,right:6,height:20,minWidth:20,borderRadius:"50%",backgroundColor:Object(l.a)("text"),color:Object(l.a)("background"),opacity:.5},devicePane:{padding:"0 16px"},devicePaneItem:{margin:"0 -16px"},deviceLabel:{display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:"8px 0"},deviceIcon:{height:16,width:16,marginRight:8,fill:"currentColor"},noDevicesMessage:{whiteSpace:"nowrap",margin:8},buttonLabel:{display:"none",["@media (min-width: ".concat(M.a.preview.minWidth+20,"px)")]:{display:"inline"}},buttonItem:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},buttonItemShortcut:{userSelect:"none",cursor:"pointer",marginLeft:12},buttonItemEditorPane:{margin:"0 12px"},title:{margin:"16px 0 8px"},action:{textDecoration:"underline",cursor:"pointer",fontWeight:"bold"},devicePreviewSwitch:{display:"none",["@media (min-width: ".concat(M.a.preview.minWidth,"px)")]:{display:"block"}},menuSeparator:{margin:"6px 0",borderBottom:"1px solid ".concat(Object(l.a)("border"))}});function F(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends o.Component{constructor(...e){super(...e),F(this,"state",{isExpanded:!1}),F(this,"_handleClick",()=>this.setState(e=>({isExpanded:!e.isExpanded}))),F(this,"_renderValue",e=>o.createElement("span",{className:Object(r.css)("object"==typeof e&&null!==e?null:"string"==typeof e?A.string:A.value)},"object"==typeof e&&null!==e?Array.isArray(e)?e.length?"[…]":"[]":Object.keys(e).length?"{…}":"{}":"string"==typeof e?'"'.concat(e,'"'):String(e)))}render(){const e=Object.keys(this.props.object);return o.createElement("div",{className:Object(r.css)(A.container)},o.createElement("div",{onClick:this._handleClick},o.createElement("span",{className:Object(r.css)(A.triangle)},this.state.isExpanded?"▼":"►"),this.props.label?o.createElement("span",{className:Object(r.css)(A.label)},this.props.label,":"):null,Array.isArray(this.props.object)?o.createElement("span",{className:Object(r.css)(A.preview)},"[",this.props.object.map((e,t,n)=>o.createElement("span",{key:t,className:Object(r.css)(A.pair)},this._renderValue(e),t!==n.length-1?",":null)),"]"):o.createElement("span",{className:Object(r.css)(A.preview)},"{",e.map((t,n)=>{const i=this.props.object[t];return o.createElement("span",{key:t,className:Object(r.css)(A.pair)},o.createElement("span",{className:Object(r.css)(A.key)},t,":"),this._renderValue(i),n!==e.length-1?",":null)}),"}")),o.createElement("div",{className:Object(r.css)(A.expanded)},this.state.isExpanded?(Array.isArray(this.props.object)?[...e,"length"]:e).map(e=>{const t=this.props.object[e];return"object"==typeof t&&null!==t&&Object.keys(t).length?o.createElement(R,{key:e,label:e,object:t}):o.createElement("div",{key:e,className:Object(r.css)(A.item)},o.createElement("span",{className:Object(r.css)(A.label,A.key)},e,":"),this._renderValue(t))}):null))}}const A=r.StyleSheet.create({container:{cursor:"default"},pair:{margin:"0 4px",verticalAlign:"middle"},preview:{margin:"0 4px",verticalAlign:1,wordBreak:"break-word",whiteSpace:"normal"},triangle:{display:"inline-block",verticalAlign:"middle",width:8,fontSize:9,opacity:.7},label:{marginLeft:6,opacity:.7},key:{marginRight:4,opacity:.7},value:{color:"#a27cca"},string:{color:"#87b121"},expanded:{marginLeft:14},item:{marginLeft:8}});function W({deviceLogs:e}){const t=e.reduce((e,t)=>{const n=e[e.length-1],r=t.payload.map(e=>{try{return JSON.parse(e)}catch{return e}});return n&&1===n.items.length&&n.items[0]===r[0]&&n.device===t.device.name&&n.method===t.method?n.times++:e.push({items:r,device:t.device.name,method:t.method,times:1}),e},[]);return o.createElement("div",null,t.map(({items:e,device:t,method:n,times:i},a)=>o.createElement("div",{className:Object(r.css)(z.container),key:a},o.createElement("div",{className:Object(r.css)(z.device)},t,":"),o.createElement("div",{className:Object(r.css)(z.line),key:a},e.map((e,t)=>"object"==typeof e&&null!==e?o.createElement(R,{key:t,object:e}):o.createElement("div",{key:t,className:Object(r.css)(z.item,"error"===n&&z.error,"warn"===n&&z.warning)},String(e))),i>1?o.createElement("div",{className:Object(r.css)(z.counter)},i):null))))}const z=r.StyleSheet.create({container:{display:"flex",flexDirection:"row",flexWrap:"nowrap",fontFamily:"var(--font-monospace)",fontSize:13,minHeight:16,margin:"4px 1.5em"},line:{display:"flex",flexDirection:"row",flexWrap:"wrap",whiteSpace:"pre"},item:{marginRight:8},error:{color:Object(l.a)("error")},warning:{color:Object(l.a)("warning")},device:{opacity:.5,marginRight:8},counter:{position:"relative",bottom:-1,height:16,width:16,lineHeight:"16px",fontSize:11,textAlign:"center",borderRadius:"50%",backgroundColor:Object(l.a)("soft"),color:Object(l.a)("soft-text")}});var H=n(762),B=n.n(H),U=({annotations:e,onSelectFile:t})=>{const[n,i]=o.useState(void 0);return o.createElement(o.Fragment,null,e.map(({message:a,location:s,source:l,severity:c,action:p},d)=>{var h;let m=V.infoIcon,u=V.infoColor;c>=3?(m=V.errorIcon,u=V.errorColor):c>=2?(m=V.warningIcon,u=V.warningColor):c<0&&(m=V.loadingIcon);const b=null!=s&&s.fileName?o.createElement("span",{className:Object(r.css)(V.location,u),onClick:()=>t(s.fileName)},"".concat(s.fileName," (").concat(s.startLineNumber,":").concat(s.startColumn,")")):"",g=o.createElement("div",{className:Object(r.css)(V.icon,m)}),f=a.split("\n"),v=f[0];let y;p?y=o.createElement("button",{className:Object(r.css)(V.action),onClick:p.run},p.icon?o.createElement("span",{className:Object(r.css)(V.actionIcon)},o.createElement(p.icon,null)):void 0,o.createElement("span",{className:Object(r.css)(V.actionText)},p.title)):l&&(y=o.createElement("span",{className:Object(r.css)(V.source)}," (".concat(l,")")));const E="".concat(null!==(h=null==s?void 0:s.fileName)&&void 0!==h?h:"",".").concat(v,".").concat(null!=l?l:""),w=1===e.length||n===E;return o.createElement("div",{key:d,className:Object(r.css)(V.item),onClick:()=>i(E)},o.createElement("div",{className:Object(r.css)(V.line)},g,b,v,y),w&&f.length>1?o.createElement("pre",{className:Object(r.css)(V.callstack)},B()(a.substring(v.length),"\r\n")):void 0)}))};const V=r.StyleSheet.create({item:{display:"flex",flexDirection:"column",padding:"0 1.5em"},line:{display:"flex",flexDirection:"row",alignItems:"center",border:0,margin:0,padding:"1px 0",color:Object(l.a)("text"),minHeight:30},icon:{backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"center center",width:16,height:16,marginRight:"0.5em"},loadingIcon:{borderWidth:2,borderStyle:"solid",borderTopColor:Object(l.a)("text"),borderLeftColor:Object(l.a)("text"),borderBottomColor:Object(l.a)("text"),borderRightColor:"rgba(0, 0, 0, .16)",opacity:.5,borderRadius:"50%",verticalAlign:-3,animationName:[{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}],animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"},infoIcon:{backgroundImage:"url(".concat(n(605),")")},errorIcon:{backgroundImage:"url(".concat(n(672),")")},warningIcon:{backgroundImage:"url(".concat(n(674),")")},location:{textDecoration:"underline",cursor:"pointer",marginRight:"0.5em"},infoColor:{opacity:.5},errorColor:{color:Object(l.a)("error")},warningColor:{color:Object(l.a)("warning")},source:{color:Object(l.a)("text"),opacity:.5,marginLeft:"0.5em"},action:{display:"flex",flexDirection:"row",alignItems:"center",appearance:"none",outline:0,margin:"0 0 0 0.5em",backgroundColor:Object(l.a)("content"),color:Object(l.a)("selected"),borderRadius:3,border:"1px solid ".concat(Object(l.a)("selected")),lineHeight:1,padding:"0 12px",minWidth:50,minHeight:30,":hover":{backgroundColor:Object(l.a)("selected"),color:Object(l.a)("content"),boxShadow:Object(l.c)("small")}},actionIcon:{marginRight:4},actionText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},callstack:{color:Object(l.a)("error"),fontFamily:"var(--font-monospace)",margin:"0.5em 0px"}});function Z(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K extends o.PureComponent{constructor(...e){super(...e),Z(this,"state",{resizing:!1,initialPosition:null,initialWidth:0,initialHeight:0}),Z(this,"_handleMouseDown",e=>{if(!this._pane.current)return;const t=getComputedStyle(this._pane.current);this.setState({resizing:!0,initialPosition:{pageX:e.pageX,pageY:e.pageY},initialWidth:parseFloat(t.width||"0"),initialHeight:parseFloat(t.height||"0")})}),Z(this,"_handleMouseUp",e=>{this.state.resizing&&(e.preventDefault(),this.setState({resizing:!1,initialPosition:null,initialWidth:0,initialHeight:0}))}),Z(this,"_handleMouseMove",e=>{const{direction:t,inverted:n}=this.props,{resizing:r,initialPosition:i,initialWidth:a,initialHeight:o}=this.state;if(r&&i){var s;let r;if(e.preventDefault(),"horizontal"===t){const t=e.pageX-i.pageX;r="width: ".concat(a+(n?-t:t),"px !important;")}else{const t=i.pageY-e.pageY;r="height: ".concat(o+(n?-t:t),"px !important")}null===(s=this._pane.current)||void 0===s||s.setAttribute("style",r)}}),Z(this,"_pane",o.createRef())}componentDidMount(){document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("mousemove",this._handleMouseMove)}componentWillUnmount(){document.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("mousemove",this._handleMouseMove)}render(){const{direction:e,inverted:t,className:n,children:i}=this.props;return o.createElement("div",{ref:this._pane,className:"".concat(Object(r.css)(Y.container)," ").concat(null!=n?n:"")},i,o.createElement("div",{className:Object(r.css)(Y.handle,"horizontal"===e?Y.horizontal:Y.vertical,"horizontal"===e?t?Y.horizontalInverted:Y.horizontalNormal:t?Y.verticalInverted:Y.verticalNormal),onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp}))}}const Y=r.StyleSheet.create({container:{position:"relative"},handle:{position:"absolute",zIndex:1},horizontal:{top:0,bottom:0,width:12,cursor:"col-resize"},vertical:{left:0,right:0,height:12,cursor:"row-resize"},horizontalNormal:{right:-12},horizontalInverted:{left:-12},verticalNormal:{top:-12},verticalInverted:{bottom:-12}});function $(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J extends o.Component{constructor(...e){super(...e),$(this,"_isScrolled",!1),$(this,"_panel",o.createRef())}getSnapshotBeforeUpdate(e){return this.props.deviceLogs!==e.deviceLogs&&this._panel.current&&(this._isScrolled=this._panel.current.scrollHeight-this._panel.current.clientHeight!==this._panel.current.scrollTop),null}componentDidUpdate(e){this.props.deviceLogs!==e.deviceLogs&&this._panel.current&&!this._isScrolled&&(this._panel.current.scrollTop=this._panel.current.scrollHeight-this._panel.current.clientHeight)}render(){const{annotations:e,deviceLogs:t,onSelectFile:n,onShowErrorPanel:i,onShowDeviceLogs:a,onTogglePanels:s,onClearDeviceLogs:l,panelType:c}=this.props;return o.createElement(K,{direction:"vertical",className:Object(r.css)(q.container)},o.createElement("div",{className:Object(r.css)(q.panels)},o.createElement("div",{className:Object(r.css)(q.header)},o.createElement("button",{onClick:i,className:Object(r.css)(q.tab,"errors"!==c&&q.inactive)},"Problems"),o.createElement("button",{onClick:a,className:Object(r.css)(q.tab,"logs"!==c&&q.inactive)},"Logs"),o.createElement("div",{className:Object(r.css)(q.buttons)},"logs"===c?o.createElement("button",{onClick:l,className:Object(r.css)(q.button,q.clear)}):null,o.createElement("button",{onClick:()=>s(),className:Object(r.css)(q.button,q.close)}))),o.createElement("div",{ref:this._panel,className:Object(r.css)(q.panel)},"errors"===c?o.createElement(U,{annotations:e,onSelectFile:n}):null,"logs"===c?o.createElement(W,{deviceLogs:t}):null)))}}const q=r.StyleSheet.create({container:{height:"14em"},header:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:".75em"},tab:{display:"inline-block",appearance:"none",background:"none",border:"none",margin:0,padding:".35em 1.5em",fontSize:".9em",textTransform:"uppercase",outline:"none",opacity:1},inactive:{opacity:.5},buttons:{display:"flex",flex:1,flexDirection:"row",justifyContent:"flex-end",margin:"0 1em"},button:{height:24,width:24,border:0,outline:0,margin:"0 .5em",appearance:"none",backgroundColor:"transparent",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"center"},close:{backgroundImage:"url(".concat(n(674),")")},clear:{backgroundImage:"url(".concat(n(774),")")},panels:{backgroundColor:Object(l.a)("content"),borderTop:"1px solid ".concat(Object(l.a)("border-editor")),height:"100%",minHeight:0},panel:{display:"flex",flexDirection:"column",minHeight:0,padding:".5em 0 .75em 0",overflow:"auto",height:"calc(100% - 2.5em)"}});var X=n(775),G=n.n(X),Q=(n(75),n(662)),ee=n(72);function te(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){return e?/^[a-z_\-\d\s]+$/i.test(e)?null:new Error("Name can only contain letters, numbers, space, hyphen (-) and underscore (_)."):new Error("Name cannot be empty.")}class re extends o.Component{constructor(...e){super(...e),te(this,"state",{name:this.props.name||"",focused:!1}),te(this,"_handleChangeText",e=>this.setState({name:e.target.value})),te(this,"_handleFocus",e=>{e.target.select(),this.setState({focused:!0})}),te(this,"_handleBlur",async()=>{var e;ne(this.state.name)||await this.props.onSubmitMetadata({name:this.state.name,description:null!==(e=this.props.description)&&void 0!==e?e:""});this.setState({focused:!1})}),te(this,"_handleKeyDown",e=>{13!==e.keyCode&&27!==e.keyCode||ne(this.state.name)||e.target.blur()})}static getDerivedStateFromProps(e,t){return t.name===e.name||t.focused?null:{name:e.name||""}}render(){const{name:e}=this.state,{description:t,onShowEditModal:n,theme:i}=this.props,a=ne(e);return o.createElement("div",{className:Object(r.css)(ae.container)},o.createElement("div",{className:Object(r.css)(ae.titleContainer)},o.createElement("h1",{className:Object(r.css)(ae.title)},o.createElement("div",{className:Object(r.css)(ae.content)},o.createElement("div",{className:Object(r.css)(ae.field,ae.phantom)},e.replace(/\n/g,"")," "),o.createElement("input",{onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeyDown,value:e,onChange:this._handleChangeText,className:Object(r.css)(ae.field,ae.editable)}))),o.createElement(Q.a,{content:o.createElement(o.Fragment,null,o.createElement("p",{className:Object(r.css)(ae.description)},null!=t?t:ee.c),o.createElement("button",{onClick:n,className:Object(r.css)(ae.editButton)},"Edit details"))},o.createElement("button",{className:Object(r.css)(ae.icon,"light"===i?ae.infoLight:ae.infoDark)}))),this.state.focused&&a?o.createElement("div",{className:Object(r.css)(ae.validation)},a.message):null)}}var ie=Object(g.a)(re);const ae=r.StyleSheet.create({container:{},titleContainer:{display:"flex",flexDirection:"row",alignItems:"flex-end"},title:{fontSize:"1.3em",lineHeight:"1.3em",fontWeight:600,margin:0,position:"relative",textOverflow:"ellipsis",overflow:"hidden"},content:{display:"flex",alignItems:"center",maxWidth:"100%"},field:{display:"inline-block",margin:0,padding:"1px 6px"},editable:{position:"absolute",appearance:"none",background:"none",outline:0,border:0,left:0,width:"100%",borderRadius:3,":hover":{boxShadow:"inset 0 0 0 1px ".concat(Object(l.a)("border"))},":focus":{boxShadow:"inset 0 0 0 1px ".concat(Object(l.a)("selected"))},":hover:focus":{boxShadow:"inset 0 0 0 1px ".concat(Object(l.a)("selected"))}},phantom:{display:"inline-block",maxWidth:"100%",pointerEvents:"none",whiteSpace:"pre",overflow:"hidden",opacity:0},validation:{position:"absolute",backgroundColor:Object(l.a)("error"),color:Object(l.a)("error-text"),fontSize:13,fontWeight:"normal",padding:"6px 12px",borderRadius:3,marginTop:8,textAlign:"left",zIndex:1e3,minWidth:100,":before":{content:'""',display:"block",position:"absolute",bottom:"100%",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"6px solid ".concat(Object(l.a)("error"))}},icon:{display:"block",position:"relative",appearance:"none",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:16,backgroundPosition:"center",border:0,outline:0,margin:0,padding:0,height:24,width:24,opacity:.3,transition:".2s",":hover":{opacity:.8}},description:{margin:16},infoLight:{backgroundImage:"url(".concat(n(605),")")},infoDark:{backgroundImage:"url(".concat(n(663),")")},editButton:{width:"100%",background:"none",outline:0,border:"none",borderTop:"1px solid ".concat(Object(l.a)("border")),color:Object(l.a)("primary"),padding:"8px 16px",fontWeight:"bold",":hover":{backgroundColor:Object(l.a)("hover")}}});function oe(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const se=o.createContext(void 0);class le extends o.Component{constructor(...e){super(...e),oe(this,"state",{isValid:!1}),oe(this,"_key",0),oe(this,"_inputs",[]),oe(this,"_register",({validate:e,focus:t})=>{const n=this._key++;return this._inputs.push({key:n,validate:e,focus:t}),n}),oe(this,"_unregister",e=>{this._inputs=this._inputs.filter(t=>t.key!==e)}),oe(this,"_update",()=>this.setState({isValid:this._inputs.every(e=>!e.validate())})),oe(this,"_handleSubmit",e=>{e.preventDefault();for(const e of this._inputs)if(e.validate())return void e.focus();this.props.onSubmit()})}componentDidMount(){this._update()}render(){return o.createElement(se.Provider,{value:{register:this._register,unregister:this._unregister,update:this._update,valid:this.state.isValid}},o.createElement("form",{onSubmit:this._handleSubmit},this.props.children))}}function ce(){return(ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(){return(pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=n(63),me=n(484),ue=n(786);function be(){return(be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge({...e}){return o.createElement(ue.a,be({className:Object(r.css)(fe.input)},e))}const fe=r.StyleSheet.create({input:{outline:0,fontSize:16,borderRadius:3,padding:"12px 14px 12px 14px",lineHeight:"22px",border:"1px solid ".concat(Object(l.a)("border")),backgroundColor:Object(l.a)("content"),width:"100%",":focus":{borderColor:Object(l.a)("selected")}}});function ve(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ye extends o.Component{constructor(...e){super(...e),ve(this,"state",{focused:!0}),ve(this,"_handleFocus",()=>this.setState({focused:!0})),ve(this,"_handleBlur",()=>this.setState({focused:!1})),ve(this,"_input",o.createRef())}focus(){var e;null===(e=this._input.current)||void 0===e||e.focus()}render(){return o.createElement("div",{className:Object(r.css)(Ee.container)},o.createElement("input",{ref:this._input,autoFocus:this.props.autoFocus,className:Object(r.css)(Ee.input,this.props.error?Ee.error:Ee.normal),value:this.props.value,name:this.props.name,type:this.props.type,disabled:this.props.disabled,onChange:this.props.onChange,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur}),this.state.focused&&this.props.error?o.createElement("div",{className:Object(r.css)(Ee.validation)},this.props.error.message):null)}}const Ee=r.StyleSheet.create({container:{position:"relative"},input:{outline:0,fontSize:16,borderRadius:3,padding:"12px 14px 12px 14px",lineHeight:"22px",width:"100%",borderWidth:1,borderStyle:"solid",backgroundColor:Object(l.a)("content")},normal:{borderColor:Object(l.a)("border"),":focus":{borderColor:Object(l.a)("selected")}},error:{borderColor:Object(l.a)("error")},validation:{position:"absolute",backgroundColor:Object(l.a)("error"),color:Object(l.a)("error-text"),padding:"6px 12px",borderRadius:3,marginTop:8,textAlign:"left",zIndex:1,":before":{content:'""',display:"block",position:"absolute",bottom:"100%",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"6px solid ".concat(Object(l.a)("error"))}}});function we(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xe=function(e){var t;function n(t){return o.createElement(se.Consumer,null,(n={valid:!0})=>o.createElement(e,ce({disabled:!n.valid},t)))}return n.displayName="withStatus(".concat(null!==(t=e.displayName)&&void 0!==t?t:e.name,")"),n}(he.a),Se=function(e){var t;class n extends o.Component{constructor(...e){super(...e),de(this,"state",{initial:!0,error:null,value:this.props.value}),de(this,"_key",0),de(this,"_root",o.createRef()),de(this,"_validate",()=>this.props.validate(this.props.value)),de(this,"_focus",()=>{var e;null===(e=this._root.current)||void 0===e||e.focus(),this.state.initial&&this.setState({initial:!1,error:this.props.validate(this.props.value)})})}static getDerivedStateFromProps(e,t){const n=t.value===e.value&&t.initial;return{initial:n,error:n?null:e.validate?e.validate(e.value):null,value:e.value}}componentDidMount(){this._key=this.props.validation.register({validate:this._validate,focus:this._focus})}componentDidUpdate(e){e.value!==this.props.value&&this.props.validation.update()}componentWillUnmount(){this.props.validation.unregister(this._key)}render(){return o.createElement(e,pe({ref:this._root,error:this.state.error},this.props))}}return de(n,"displayName","withValidation(".concat(null!==(t=e.displayName)&&void 0!==t?t:e.name,")")),e=>o.createElement(se.Consumer,null,t=>o.createElement(n,pe({validation:t},e)))}(ye);class je extends o.Component{constructor(...e){var t;super(...e),we(this,"state",{name:this.props.name||"",description:null!==(t=this.props.description)&&void 0!==t?t:"",visible:this.props.visible}),we(this,"_handleSubmit",()=>{this.props.onSubmit({name:this.state.name,description:this.state.description})}),we(this,"_validateName",e=>e?/^[a-z_\-\d\s]+$/i.test(e)?null:new Error("Name can only contain letters, numbers, space, hyphen (-) and underscore (_)."):new Error("Name cannot be empty."))}static getDerivedStateFromProps(e,t){var n;return t.visible!==e.visible?e.visible?{name:e.name||"",description:null!==(n=e.description)&&void 0!==n?n:"",visible:e.visible}:{visible:e.visible}:null}render(){const{visible:e,title:t,onDismiss:n,isWorking:i,action:a}=this.props;return o.createElement(me.a,{visible:e,title:t,onDismiss:n},o.createElement(le,{onSubmit:this._handleSubmit},o.createElement("h4",{className:Object(r.css)(Ce.subtitle)},"Project name"),o.createElement(Se,{autoFocus:!0,value:this.state.name,onChange:e=>this.setState({name:e.target.value}),placeholder:"Unnamed Snack",validate:this._validateName}),o.createElement("h4",{className:Object(r.css)(Ce.subtitle)},"Description"),o.createElement(ge,{value:this.state.description,onChange:e=>this.setState({description:e.target.value}),minRows:4,placeholder:ee.c}),o.createElement("div",{className:Object(r.css)(Ce.buttons)},o.createElement(xe,{type:"submit",large:!0,variant:"primary",loading:i},a))))}}const Ce=r.StyleSheet.create({subtitle:{fontSize:16,fontWeight:500,padding:0,lineHeight:"22px",margin:"16px 0 6px 0"},buttons:{margin:"20px 0 0 0"},caption:{marginTop:24,fontSize:"16px",lineHeight:"22px",textAlign:"center"},link:{cursor:"pointer",color:Object(l.a)("primary"),textDecoration:"underline"}});var Oe=n(520);function _e(e){const[t,n]=o.useState(new Date);o.useEffect(()=>{const e=setInterval(()=>n(new Date),1e4);return()=>clearInterval(e)},[]);const{description:i,name:a,createdAt:s,saveHistory:c,saveStatus:p,viewer:d,visibleModal:h,onShowModal:m,onHideModal:u,onSubmitMetadata:b}=e,g=c.length?c[0]:null,f=g?g.savedAt:s,v=!!c&&c.some(e=>!e.isDraft);let y;if(d){if("saving-draft"===p||"publishing"===p)y="Saving changes…";else if(f){const e=new Date(f),n=t>e?"".concat(G()(t,e,{includeSeconds:!0,addSuffix:!0})):"";y="unsaved"===p||"edited"===p?"Last saved ".concat(n):"All changes saved ".concat(n)}else y="Not saved yet";y=o.createElement(o.Fragment,null,o.createElement("span",{className:Object(r.css)(ke.statusText)},y,".")," ",v?o.createElement("button",{onClick:()=>m("previous-saves"),className:Object(r.css)(ke.textButton)},"See previous saves."):null)}else y=o.createElement(o.Fragment,null,o.createElement("a",{href:Object(Oe.a)(),className:Object(r.css)(ke.textButton)},"Log in")," ",o.createElement("span",{className:Object(r.css)(ke.statusText)},"to save your changes as you work"));return o.createElement("div",{className:Object(r.css)(ke.container)},o.createElement("div",{className:Object(r.css)(ke.header)},o.createElement(ie,{name:a,description:i,onSubmitMetadata:b,onShowEditModal:()=>m("edit-info")}),o.createElement("div",{className:Object(r.css)(ke.metadata)},o.createElement("p",{className:Object(r.css)(ke.status)},y),d&&"saving-draft"===p?o.createElement("div",{className:Object(r.css)(ke.spinner)}):null,d&&"saved-draft"===p||"published"===p?o.createElement("svg",{width:"11px",height:"8px",viewBox:"0 0 11 8"},o.createElement("polygon",{fill:Object(l.a)("success"),points:"3.34328358 6.32835821 0.835820896 3.82089552 0 4.65671642 3.34328358 8 10.5074627 0.835820896 9.67164179 0"})):null)),o.createElement(je,{title:"Edit Snack Details",action:"Done",visible:"edit-info"===h,onDismiss:u,onSubmit:e=>{b(e),u()},description:i,name:a}))}const ke=r.StyleSheet.create({container:{display:"flex",alignItems:"center",minWidth:0,height:"100%"},header:{minWidth:0,marginRight:16},metadata:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:4},status:{fontSize:14,margin:"-2px 4px 0 6px",textOverflow:"ellipsis",overflow:"hidden"},textButton:{appearance:"none",background:"none",border:0,color:Object(l.a)("text"),margin:0,padding:0,textDecoration:"underline"},statusText:{opacity:.5},spinner:{borderStyle:"solid",borderTopColor:Object(l.a)("selected"),borderLeftColor:Object(l.a)("selected"),borderBottomColor:Object(l.a)("selected"),borderRightColor:"rgba(0, 0, 0, .16)",borderWidth:1,height:12,width:12,borderRadius:"50%",margin:"0 4px",animationDuration:"1s",animationName:[{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}],animationIterationCount:"infinite",animationTimingFunction:"linear"}});var Le=n(179);n(787);function De(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ne extends o.Component{constructor(...e){super(...e),De(this,"docsearch",void 0),De(this,"state",{isFocused:!1})}componentDidMount(){this.initDocSearch()}componentDidUpdate(e){e.sdkVersion!==this.props.sdkVersion&&this.initDocSearch()}initDocSearch(){const e=n(788);this.docsearch=e({apiKey:"2955d7b41a0accbe5b6aa2db32f3b8ac",indexName:"expo",inputSelector:"#algolia-search-box",enhancedSearchInput:!1,algoliaOptions:{facetFilters:[["version:v".concat(this.props.sdkVersion)]]},handleSelected:(e,t,n,r,i)=>{if("click"===i.selectionMethod){e.setVal("");const t=window.open(n.url,"_blank");null==t||t.focus()}}})}render(){return o.createElement("div",{key:"search".concat(this.props.sdkVersion),className:Object(r.css)(Pe.container)},o.createElement("input",{className:Object(r.css)(Pe.input),onFocus:()=>this.setState({isFocused:!0}),onBlur:()=>this.setState({isFocused:!1}),id:"algolia-search-box",type:"text",placeholder:"Search API",autoComplete:"off",spellCheck:"false",dir:"auto"}),o.createElement("div",{className:Object(r.css)(Pe.icon)},o.createElement("svg",{width:"20",height:"20",fill:"none"},o.createElement("circle",{cx:"8.75",cy:"8.333",r:"5.417",strokeWidth:"1.667"}),o.createElement("path",{d:"M12.5 12.917l4.167 4.166",strokeWidth:"1.667",strokeLinecap:"round"}))))}}const Pe=r.StyleSheet.create({container:{display:"flex",position:"relative",alignItems:"flex-end",marginRight:12,"@media (max-width: 800px)":{display:"none"}},input:{appearance:"none",boxSizing:"border-box",maxWidth:300,width:"20vw",fontSize:16,padding:"0 16px 0 40px",borderRadius:4,height:40,outline:0,backgroundColor:Object(l.a)("content"),borderStyle:"solid",borderWidth:1,borderColor:Object(l.a)("border"),":focus":{borderColor:Object(l.a)("primary")}},icon:{position:"absolute",left:0,top:0,bottom:0,width:40,opacity:.6,stroke:Object(l.a)("text"),display:"flex",justifyContent:"center",alignItems:"center"}});var Me=Ne,Ie=n(224),Te=n(225);var Fe=function(e){const{source:t,size:n}=e;return o.createElement("div",{className:Object(r.css)(Re.container)},t?o.createElement("img",{src:t,style:{width:n,height:n,borderRadius:n/2}}):o.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M13.125 13.563c2.423-3.635 2.831-10.938-2.623-10.938-5.454 0-5.05 7.303-2.627 10.938-2.423 0-5.25 2.389-5.25 4.812h15.75c.004-2.423-2.827-4.813-5.25-4.813z",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round"})))};const Re=r.StyleSheet.create({container:{display:"flex",justifyContent:"center",alignItems:"center",stroke:Object(l.a)("text")}});function Ae(){return(Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class We extends o.PureComponent{render(){const{visible:e,position:t,actions:n,onHide:i,className:a,innerRef:s}=this.props;if(!e)return null;const l=n.filter(e=>e);return o.createElement("ul",{ref:s,className:x()(Object(r.css)(He.menu),a),style:t?{position:"fixed",top:Math.min(t.pageY,window.innerHeight-35-28*l.length),left:t.pageX,marginTop:-8}:{}},l.map(({label:e,handler:t,disabled:n,combo:a})=>o.createElement("li",{key:e},o.createElement("button",{disabled:n,className:Object(r.css)(He.item,n&&He.disabled),onClick:()=>{t(),i()}},o.createElement("div",null,e),a?o.createElement(N.a,{combo:a,className:Object(r.css)(He.hint)}):null))))}}var ze=o.forwardRef((e,t)=>o.createElement(We,Ae({},e,{innerRef:t})));const He=r.StyleSheet.create({menu:{zIndex:10,listStyle:"none",padding:0,borderRadius:4,borderStyle:"solid",boxShadow:Object(l.c)("popover"),minWidth:240,animationName:{from:{opacity:0},to:{opacity:1}},animationDuration:"0.083s",animationTimingfunction:"linear",backgroundColor:Object(l.a)("content"),border:"1px solid ".concat(Object(l.a)("border")),color:Object(l.a)("text")},item:{display:"flex",justifyContent:"space-between",appearance:"none",background:"none",border:0,outline:0,width:"100%",padding:"16px 12px",textAlign:"left",userSelect:"none",borderRadius:2,minHeight:56,fontSize:16,color:Object(l.a)("text"),borderBottom:"1px solid ".concat(Object(l.a)("border")),marginBottom:"-1px",":hover":{background:Object(l.a)("hover")}},disabled:{pointerEvents:"none",opacity:.5},hint:{marginLeft:24,lineHeight:"24px"}});var Be=n(172),Ue=n(510);function Ve(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ze extends o.Component{constructor(...e){super(...e),Ve(this,"state",{visible:!1}),Ve(this,"_handleDocumentClick",e=>{this.state.visible?this._menu.current&&e.target!==this._menu.current&&!this._menu.current.contains(e.target)&&this._hideMenu():this._avatar.current&&(e.target===this._avatar.current||this._avatar.current.contains(e.target))&&this.setState(e=>({visible:!e.visible}))}),Ve(this,"_handleDocumentContextMenu",()=>{this.state.visible&&this._hideMenu()}),Ve(this,"_hideMenu",()=>this.setState({visible:!1})),Ve(this,"_menu",o.createRef()),Ve(this,"_avatar",o.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._handleDocumentContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._handleDocumentContextMenu)}render(){const{viewer:e,legacyLogout:t}=this.props,n=Object(Ue.b)();return o.createElement("div",{className:Object(r.css)(Ye.container)},o.createElement("button",{ref:this._avatar,className:Object(r.css)(Ye.button)},o.createElement(Fe,{source:null!=e&&e.profilePhoto?e.profilePhoto:null,size:26})),o.createElement(ze,{ref:this._menu,visible:this.state.visible,actions:e?[{label:"My Snacks",handler:()=>window.open("".concat(n,"/snacks"))},{label:"User Settings",handler:()=>window.open("".concat(n,"/settings"))},...t?[{label:"Log out",handler:t}]:[]]:[{label:"Log in to Expo",handler:()=>window.location.href=Object(Oe.a)()}],onHide:this._hideMenu,className:Object(r.css)(Ye.menu)}))}}var Ke=Object(Be.a)(Ze);const Ye=r.StyleSheet.create({container:{marginRight:16},menu:{position:"absolute",margin:"4px 0",right:16,top:"100%"},button:{appearance:"none",background:"transparent",padding:0,margin:0,border:0,outline:0,height:40,width:40,borderRadius:2,textDecoration:"none",display:"flex",justifyContent:"center",alignItems:"center",":hover":{backgroundColor:Object(l.a)("hover")}}});n(175);var $e=n(833),Je=n.n($e),qe=n(57);const Xe=[35783,47909,44171,50799];async function Ge(e,t={}){let n="orbit/".concat(e);t&&(n+="?".concat(new URLSearchParams(t)));for(const e of Xe)try{const t=await fetch("http://127.0.0.1:".concat(e,"/").concat(n),{cache:"no-cache",headers:{Accept:"application/json"},referrerPolicy:"origin-when-cross-origin",credentials:"omit"});if(t.ok)return t.json()}catch{}}function Qe(e){const[t]=Object(Le.a)(),{name:i,description:a,createdAt:s,saveHistory:l,saveStatus:c,sdkVersion:p,viewer:d,isDownloading:h,isResolving:m,visibleModal:u,experienceURL:b,onSubmitMetadata:g,onShowModal:f,onHideModal:v,onDownloadCode:y,onPublishAsync:E}=e,{theme:w}=t,x="publishing"===c,S="published"===c,{isEnabled:j,openWithExperienceURL:C}=function(){var e;const[t,n]=Object(o.useState)(!1),r=Object(qe.c)(null===(e=navigator)||void 0===e?void 0:e.userAgent),i=Object(o.useCallback)(async(e,n)=>{if(!e)return;const r="expo-orbit:///snack/?url=".concat(encodeURIComponent(e));if(t){const e=await Ge("open",{url:r});if(null!=e&&e.ok)return}Je()(r,n)},[t]);return Object(o.useEffect)(()=>{r&&Ge("status").then(e=>{n(!(null==e||!e.version))}).catch(()=>{})},[r]),{isEnabled:r,openWithExperienceURL:i}}();return o.createElement(Ie.a,null,o.createElement(Te.a,null,o.createElement("img",{src:n("dark"===w?667:834),alt:"Snack",className:Object(r.css)(et.logo)}),o.createElement(_e,{name:i,description:a,createdAt:s,saveHistory:l,saveStatus:c,viewer:d,visibleModal:u,onSubmitMetadata:g,onShowModal:f,onHideModal:v})),o.createElement("div",{className:Object(r.css)(et.buttons)},o.createElement(Me,{sdkVersion:p}),o.createElement(he.a,{variant:"primary",onClick:()=>E(),disabled:x||m||S,loading:x,className:Object(r.css)(et.saveButton)},x?"Saving…":S?"Saved":"Save"),o.createElement(k.a,{responsive:!0,title:"Run on device",onClick:()=>f("device-instructions")},o.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},o.createElement("path",{d:"M8.333 7.083v5.667l4.534-2.833-4.534-2.834z",stroke:"none"}),o.createElement("path",{d:"M8.333 10H2.5",strokeWidth:"1.25",strokeLinecap:"round"}),o.createElement("path",{d:"M5.444 11.889v3.778c0 1.043.846 1.889 1.89 1.889h6.61a1.889 1.889 0 001.89-1.89V4.334a1.889 1.889 0 00-1.89-1.889h-6.61a1.889 1.889 0 00-1.89 1.89V8.11",fill:"none",strokeWidth:"1.667"}),o.createElement("rect",{x:"8.333",y:"1.667",width:"5",height:"2.5",rx:".833",stroke:"none"}))),j?o.createElement(k.a,{responsive:!0,title:"Open with Orbit",onClick:()=>C(b,()=>f("install-orbit"))},o.createElement("svg",{width:"20",height:"20",viewBox:"0 0 16 16"},o.createElement("path",{stroke:"none",d:"M6.53747 12.9531C6.25915 12.0253 11.176 9.35779 13.6693 8.14001C13.5533 9.02918 13.4373 10.5176 11.9298 12.0253C10.5962 13.3591 6.88536 14.1129 6.53747 12.9531Z"}),o.createElement("path",{stroke:"none",d:"M5.84172 3.037C1.99171 4.79989 2.45941 8.66153 3.17452 10.3432C2.88459 10.4596 1.78288 10.5176 1.60898 10.2857C1.43507 10.0537 1.95691 9.53181 2.30481 9.29939L2.18883 8.83547C0.565336 9.64778 -0.19688 10.652 0.0434576 11.2135C0.217402 11.6199 2.18883 12.6628 8.85678 9.58934C15.5247 6.51589 16.2785 4.83465 15.9306 4.25476C15.6523 3.79084 13.708 4.00301 12.7996 4.19631L13.2634 4.71867C13.8432 4.60269 14.3071 4.60269 14.3071 4.89264C14.3071 5.36574 13.6693 5.78138 13.3214 5.99402C12.4323 4.29299 9.84249 1.20508 5.84172 3.037Z"}))):null,o.createElement(k.a,{responsive:!0,title:"Download as zip",onClick:y,disabled:h||x},o.createElement("svg",{width:"20",height:"20"},o.createElement("path",{d:"M14.167 10H5.833L10 16.667 14.167 10z"}),o.createElement("path",{d:"M2.5 18.333h15M10 10V1.667",strokeWidth:"2",strokeLinecap:"round"}))),o.createElement(k.a,{responsive:!0,title:"Show embed code",onClick:()=>f("embed")},o.createElement("svg",{width:"20px",height:"18px",viewBox:"0 0 20 18",fill:"none"},o.createElement("path",{d:"M13.333 15l5-5-5-5M6.667 5l-5 5 5 5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),o.createElement(Ke,null)))}const et=r.StyleSheet.create({logo:{width:24,height:24,marginLeft:16,marginRight:16},buttons:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative",zIndex:5},saveButton:{height:40,fontWeight:600,minWidth:80,fontSize:"16px",marginRight:16}});var tt=n(612),nt=n.n(tt),rt=n(180),it=n(604);function at(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot=e=>e.target.select();class st extends o.PureComponent{constructor(e){super(e),at(this,"state",void 0),at(this,"_reinitialize",()=>{if("ExpoSnack"in window){const e=document.querySelector("[data-snack-id]");window.ExpoSnack.remove(e),window.ExpoSnack.append(e)}}),at(this,"_maybeInsertScript",()=>{if(document.querySelectorAll('script[src="'.concat(this.state.url,'"]')).length)return void this._reinitialize();const e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src=this.state.url,document.body&&document.body.appendChild(e)}),at(this,"_handleCopy",()=>{this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),1e3)}),at(this,"_handleTogglePreview",()=>this.setState(e=>({preview:!e.preview}))),at(this,"_handleToggleTheme",()=>this.setState(e=>({theme:"light"===e.theme?"dark":"light"}))),at(this,"_handleChangePlatform",e=>this.setState({platform:e})),this.state={platform:"web",preview:!0,theme:this.props.theme||"light",copied:!1,url:"".concat(window.location.origin,"/embed.js")}}componentDidMount(){this._maybeInsertScript()}componentDidUpdate(e,t){t.preview===this.state.preview&&t.platform===this.state.platform&&t.theme===this.state.theme||requestAnimationFrame(this._reinitialize)}render(){var e;const{platform:t,preview:n,theme:i,copied:a,url:s}=this.state,c='<div data-snack-id="'.concat(null!==(e=this.props.id)&&void 0!==e?e:"",'" data-snack-platform="').concat(t,'" data-snack-preview="').concat(String(n),'" data-snack-theme="').concat(i,'" style="overflow:hidden;background:').concat(Object(l.a)("background",i),";border:1px solid ").concat(Object(l.a)("border"),';border-radius:4px;height:505px;width:100%"></div>'),p="".concat(c,'\n<script async src="').concat(s,'"><\/script>');return o.createElement("div",{className:Object(r.css)(ct.container)},o.createElement(rt.a,{visible:a},"Copied to clipboard!"),o.createElement("div",{className:Object(r.css)(ct.section)},o.createElement("div",{className:Object(r.css)(ct.header)},o.createElement("h3",{className:Object(r.css)(ct.title)},"Embed Preview"),o.createElement("a",{href:M.a.links.authorDocs,target:"blank"},"Learn more about what's possible")),o.createElement("div",{className:Object(r.css)(ct.row,ct.options)},o.createElement(it.a,{options:this.props.platformOptions,value:t,onValueChange:this._handleChangePlatform,className:Object(r.css)(ct.last)}),o.createElement(P.a,{checked:n,label:"Preview",onChange:this._handleTogglePreview}),o.createElement(P.a,{checked:"light"!==i,label:"Dark theme",onChange:this._handleToggleTheme})),o.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),o.createElement("div",{className:Object(r.css)(ct.section)},o.createElement("h3",{className:Object(r.css)(ct.header)},"Embed Code"),o.createElement("div",{className:Object(r.css)(ct.inputContainer)},o.createElement("input",{readOnly:!0,className:Object(r.css)(ct.code),onClick:ot,value:p}),o.createElement(nt.a,{text:p,onCopy:this._handleCopy},o.createElement(he.a,{variant:"primary",className:Object(r.css)(ct.copyButton)},"Copy to clipboard")))))}}var lt=Object(g.a)(st);const ct=r.StyleSheet.create({container:{width:780,textAlign:"left"},header:{display:"flex",flexDirection:"row",alignItems:"center"},title:{margin:".5em 0",display:"inline",fontWeight:500,flex:1},options:{color:Object(l.a)("text"),marginBottom:".5em"},last:{marginRight:0},row:{display:"flex",flexDirection:"row",alignItems:"center"},section:{":not(:last-of-type)":{paddingBottom:"1.5em"}},code:{fontFamily:"var(--font-monospace)",padding:"1em",width:"100%",outline:0,border:"1px solid ".concat(Object(l.a)("border")),borderRadius:3,color:Object(l.a)("text"),backgroundColor:Object(l.a)("background")},inputContainer:{position:"relative"},copyButton:{position:"absolute",right:0}});var pt=n(835),dt=n.n(pt),ht=n(58),mt=n(228),ut=n.n(mt);function bt({dataTransfer:e},t){return!!e&&(e.types instanceof DOMStringList?e.types.contains(t):e.types.indexOf(t)>-1)}function gt(){return(gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vt extends o.PureComponent{constructor(...e){super(...e),ft(this,"_getParentPath",e=>e.includes("/")?e.replace(/\/[^/]+$/,""):null),ft(this,"_isDirectChild",e=>{if(this.props.entry&&this.props.entry.item.path===e)return!0;const t=this._getParentPath(e);return this.props.entry&&t?this.props.entry.item.path===t:null==this.props.entry&&null==t}),ft(this,"_handleDragLeave",e=>{e.currentTarget.style.backgroundColor=null,clearTimeout(this._dragTimer),this._dragTimer=null}),ft(this,"_handleDragOver",e=>{const t=xt;!bt(e,"application/json")||this.props.entry&&"folder"!==this.props.entry.item.type||!t||"file"!==t.item.type&&"folder"!==t.item.type||(e.stopPropagation(),this._isDirectChild(t.item.path)||(e.preventDefault(),e.currentTarget.style.backgroundColor="dark"===this.props.theme?"rgba(255, 255, 255, .1)":"rgba(0, 0, 0, .1)",this._dragTimer||(this._dragTimer=setTimeout(()=>{this.props.entry&&!this.props.entry.state.isExpanded&&this.props.onExpand&&this.props.onExpand(this.props.entry.item.path)},500))))}),ft(this,"_dragTimer",void 0),ft(this,"_handleDrop",e=>{if(e.currentTarget.style.backgroundColor=null,bt(e,"application/json")&&(!this.props.entry||"folder"===this.props.entry.item.type)){e.preventDefault(),e.stopPropagation();try{const t=e.dataTransfer.getData("application/json"),n=JSON.parse(t);if("file"!==n.item.type&&"folder"!==n.item.type||this._isDirectChild(n.item.path))return;const r=n.item.path.split("/").pop();this.props.onRename(n.item.path,Object(c.c)(this.props.rest.map(e=>e.item.path),this.props.entry?this.props.entry.item.path+"/"+r:r))}catch{}}}),ft(this,"_container",o.createRef())}componentDidMount(){const e=this._container.current;e&&(e.addEventListener("dragover",this._handleDragOver),e.addEventListener("dragleave",this._handleDragLeave),e.addEventListener("dragend",this._handleDragLeave),e.addEventListener("drop",this._handleDrop))}componentWillUnmount(){const e=this._container.current;e&&(e.removeEventListener("dragover",this._handleDragOver),e.removeEventListener("dragleave",this._handleDragLeave),e.removeEventListener("dragend",this._handleDragLeave),e.removeEventListener("drop",this._handleDrop))}render(){const{entry:e,rest:t,onExpand:n,onRename:r,theme:i,...a}=this.props;return o.createElement("div",gt({},a,{ref:this._container}))}}var yt=Object(g.a)(vt),Et=n(537);function wt(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let xt;class St extends o.Component{constructor(...e){super(...e),wt(this,"state",{menu:null,isHovered:!1}),wt(this,"_handleClick",e=>{"INPUT"!==e.target.tagName&&this.props.onOpen(this.props.entry.item.path)}),wt(this,"_handleMouseEnter",()=>this.setState({isHovered:!0})),wt(this,"_handleMouseLeave",()=>this.setState({isHovered:!1})),wt(this,"_handleMouseDown",()=>this._click=!0),wt(this,"_handleFocus",()=>{this._click?this._click=!1:this.props.onFocus(this.props.entry.item.path)}),wt(this,"_handleKeyDown",e=>{if("INPUT"===e.target.tagName)return;const t=this.props.actions.filter(t=>!(null==t||!t.combo)&&Object(Et.c)(e,t.combo));t.length&&(e.preventDefault(),t.forEach(e=>null==e?void 0:e.handler()))}),wt(this,"_hideContextMenu",()=>this.setState({menu:null})),wt(this,"_showContextMenu",e=>{this.setState({menu:{pageX:e.pageX,pageY:e.pageY}})}),wt(this,"_handleDocumentClick",e=>{this.state.menu?this._menu.current&&e.target!==this._menu.current&&!this._menu.current.contains(e.target)&&this._hideContextMenu():this._more.current&&(e.target===this._more.current||this._more.current.contains(e.target))&&(this.state.menu?this._hideContextMenu():this._showContextMenu(e))}),wt(this,"_handleDocumentContextMenu",e=>{var t;e.target===this._item.current||null!==(t=this._item.current)&&void 0!==t&&t.contains(e.target)?(e.preventDefault(),this._showContextMenu(e)):this.state.menu&&this._hideContextMenu()}),wt(this,"_handleDragStart",e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/json",JSON.stringify(this.props.entry)),xt=this.props.entry}),wt(this,"_handleDragEnd",()=>{xt=null}),wt(this,"_click",!1),wt(this,"_item",o.createRef()),wt(this,"_more",o.createRef()),wt(this,"_menu",o.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._handleDocumentContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._handleDocumentContextMenu)}render(){var e,t;const{entry:n,rest:i,draggable:a,onRename:s,onExpand:l,theme:c,actions:p}=this.props,{menu:d,isHovered:h}=this.state;return o.createElement(yt,{entry:n,rest:i,onRename:s,onExpand:l},o.createElement("div",{ref:this._item,draggable:a,onDragStart:this._handleDragStart,onDragEnd:this._handleDragEnd,tabIndex:0,className:Object(r.css)(jt.entry),onClick:this._handleClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave,onMouseDown:this._handleMouseDown,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown},this.props.renderItem()),o.createElement("div",{className:Object(r.css)(jt.highlight,"dark"===c?jt.highlightDark:jt.highlightLight,n.state.isSelected?jt.highlightActive:null)}),o.createElement(ze,{ref:this._menu,visible:Boolean(d),position:d,actions:p,onHide:this._hideContextMenu}),o.createElement("button",{ref:this._more,tabIndex:-1,className:Object(r.css)(jt.more,h||d?jt.moreVisible:jt.moreInvisible)},this.props.renderMenuIcon()),null===(e=(t=this.props).renderTree)||void 0===e?void 0:e.call(t))}}wt(St,"defaultProps",{draggable:!0});const jt=r.StyleSheet.create({entry:{position:"relative",display:"inline-block",outline:0,padding:"4px 16px",width:"100%",cursor:"pointer",zIndex:1,whiteSpace:"nowrap"},highlight:{content:'""',display:"inline-block",height:30,position:"absolute",left:0,right:0,opacity:0,zIndex:1,pointerEvents:"none"},highlightLight:{backgroundColor:"rgba(0, 0, 0, .04)"},highlightDark:{backgroundColor:"rgba(255, 255, 255, .04)"},highlightActive:{opacity:1},more:{position:"absolute",left:-8,border:0,outline:0,background:"none",height:30,zIndex:2,padding:"7px 12px",textAlign:"right",":hover":{opacity:1}},moreInvisible:{opacity:0},moreVisible:{opacity:1},icon:{fill:"currentColor",height:16,width:16}});function Ct({entry:e}){let t;return e.state.isLoading?o.createElement("div",{className:Object(r.css)(Ot.spinner)}):(t=Object(c.f)(e.item.path)?o.createElement("g",null,o.createElement("path",{d:"M7.46487122,14 C7.80521143,13.4116533 8,12.7285743 8,12 C8,9.790861 6.209139,8 4,8 C3.65470043,8 3.31961992,8.043753 3,8.12601749 L3,2 L13,2 L13,14 L7.46487122,14 Z M9,2 L13,6 L13,2 L9,2 Z M9,6 L9,2 L8,2 L8,7 L13,7 L13,6 L9,6 Z"}),o.createElement("circle",{cx:"4",cy:"12",r:"3"})):Object(c.j)(e.item.path)?o.createElement("path",{d:"M2,5.09257608 L7.47329684,8.31213064 L7.47329684,14.7092088 L2,11.5325867 L2,5.09257608 Z M2.49245524,4.22207437 L7.97432798,1 L13.506361,4.2238509 L7.92838937,7.41965108 L2.49245524,4.22207437 Z M14,5.09352708 L14,11.5325867 L8.47329684,14.7128733 L8.47329684,8.25995389 L14,5.09352708 Z"}):"folder"===e.item.type?e.state.isExpanded?o.createElement("g",null,o.createElement("path",{d:"M7.5,5 L2,5 L2,13 L7.75,13 L14,13 L14,4 L15,4 L15,14 L1,14 L1,4 L6.5,4 L5.5,5 L7.5,5 L7.5,4.5 L7.5,5 Z M14,4 L14,3 L7.5,3 L7.5,3.5 L7.5,3 L7,3.5 L7,2 L15,2 L15,4 L14,4 Z M6.5,4 L5,4 L7,2 L7,3.5 L6.5,4 Z"}),o.createElement("polygon",{points:"0 7 13 7 14 14 1 14"})):o.createElement("path",{d:"M7.25,4 L7.5,4 L7.5,3 L7,3.5 L7,2 L15,2 L15,4 L7.25,4 Z M6.75,4 L5,4 L7,2 L7,3.5 L6.5,4 L6.75,4 Z M1,4 L15,4 L15,14 L1,14 L1,4 Z M7.5,3 L7.5,4 L14,4 L14,3 L7.5,3 Z"}):Object(c.g)(e.item.path)?o.createElement("g",null,o.createElement("circle",{cx:"5",cy:"5",r:"1"}),o.createElement("polygon",{points:"5.71428571 8.41176471 8 11.2352941 10.8571429 7 14 13 2 13"}),o.createElement("path",{d:"M3,3 L3,13 L13,13 L13,3 L3,3 Z M3,2 L13,2 C13.5522847,2 14,2.44771525 14,3 L14,13 C14,13.5522847 13.5522847,14 13,14 L3,14 C2.44771525,14 2,13.5522847 2,13 L2,3 C2,2.44771525 2.44771525,2 3,2 Z"})):o.createElement("path",{d:"M3,2 L13,2 L13,14 L3,14 L3,2 Z M9,2 L13,6 L13,2 L9,2 Z M9,6 L9,2 L8,2 L8,7 L13,7 L13,6 L9,6 Z"}),o.createElement("svg",{className:Object(r.css)(Ot.icon,Object(c.m)(e.item.path)?Ot.test:void 0,e.state.isError?Ot.error:void 0),viewBox:"0 0 16 16"},t))}const Ot=r.StyleSheet.create({icon:{height:16,width:16,fill:"currentColor",verticalAlign:"middle",opacity:.7},error:{fill:Object(l.a)("error")},test:{color:Object(l.a)("soft")},spinner:{display:"inline-block",verticalAlign:"middle",borderStyle:"solid",borderTopColor:"currentColor",borderLeftColor:"currentColor",borderBottomColor:"currentColor",borderRightColor:"rgba(0, 0, 0, .16)",borderWidth:1,height:12,width:12,borderRadius:"50%",margin:"2px 2px",animationDuration:"1s",animationName:[{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}],animationIterationCount:"infinite",animationTimingFunction:"linear"}});function _t(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kt=e=>e.replace(/(\.[^.]+$)/,(e,t)=>".js"===t?".tsx":".js");class Lt extends o.Component{constructor(e){var t;super(e),_t(this,"state",void 0),_t(this,"_handleToggleExpand",()=>this.props.onExpand(this.props.entry.item.path,!this.props.entry.state.isExpanded)),_t(this,"_handleToggleRename",()=>{this.state.isRenaming&&!this.state.error&&this._handleNameChange(this.state.name),this.setState((e,t)=>{var n;return e.isRenaming?{isRenaming:!1,name:"",error:null}:{isRenaming:!0,name:null!==(n=t.entry.item.path.split("/").pop())&&void 0!==n?n:"",error:null}})}),_t(this,"_handleDelete",()=>this.props.onDelete(this.props.entry.item.path)),_t(this,"_handleNameChange",e=>{const{entry:t}=this.props;if(e&&(e!==t.item.path.split("/").pop()||t.state.isCreating)){const n=t.item.path.replace(/[^/]+$/,e);this.props.onRename(t.item.path,n)}}),_t(this,"_handleInputChange",e=>{const t=e.target.value;this.setState({name:t,error:this._validateName(t)})}),_t(this,"_validateName",e=>{if(e===this.props.entry.item.path.split("/").pop())return null;const t=["\0","\\",":","*","?",'"',"<",">","|"].filter(t=>e.includes(t));if(t.length)return new Error("".concat(1===t.length?"".concat(t[0]," is"):"".concat(t.join(", ")," are")," not allowed"));return this.props.getAdjacentEntries().some(t=>{var n;return(null!==(n=t.item.path.split("/").pop())&&void 0!==n?n:"").toLowerCase()===e.toLowerCase()})?new Error("Another entry already exists with same name"):Object(c.f)(e)?new Error("Cannot name a new file as ".concat(e)):null}),_t(this,"_handleInputFocus",e=>{const t=e.target;t instanceof HTMLInputElement&&t.select()}),_t(this,"_handleInputBlur",()=>{this.state.error||this._handleNameChange(this.state.name),this.setState({isRenaming:!1,name:"",error:null})}),_t(this,"_handleInputKeyUp",e=>{switch(e.keyCode){case Et.a.Enter:this._handleToggleRename();break;case Et.a.Escape:this._handleInputBlur()}}),_t(this,"_handleCreateFile",()=>this.props.onCreateFile(this.props.entry.item.path)),_t(this,"_handleCreateFolder",()=>this.props.onCreateFolder(this.props.entry.item.path)),_t(this,"_handleCopy",()=>this.props.onCopy(this.props.entry.item.path)),_t(this,"_handlePaste",()=>{const{entry:e,clipboard:t,onPaste:n,onClearClipboard:r}=this.props;t.forEach(t=>n(e.item.path,t)),r()}),_t(this,"_handleDuplicate",()=>{const{entry:e,onPaste:t}=this.props;t(e.item.path.includes("/")?"folder"===e.item.type?Object(c.b)(e.item.path):e.item.path:void 0,e)}),_t(this,"_handleToggleTSExt",()=>{const e=this.props.entry.item.path;this.props.onRename(e,kt(e))}),_t(this,"_getActions",()=>[{label:"New file",handler:this._handleCreateFile},{label:"New folder",handler:this._handleCreateFolder},"folder"===this.props.entry.item.type?{label:"folder"===this.props.entry.item.type&&this.props.entry.state.isExpanded?"Collapse":"Expand",handler:this._handleToggleExpand,combo:[Et.a.Enter]}:void 0,this.props.clipboard.length?{label:"Paste",handler:this._handlePaste,combo:[Et.a.Meta,Et.a.V]}:this.props.entry.item.virtual?void 0:{label:"Copy",handler:this._handleCopy,combo:[Et.a.Meta,Et.a.C]},this.props.entry.item.virtual?void 0:{label:"Duplicate",handler:this._handleDuplicate,combo:[Et.a.Meta,Et.a.D]},Object(c.f)(this.props.entry.item.path)?{label:"Rename to ".concat(kt(this.props.entry.item.path)),handler:this._handleToggleTSExt}:void 0,...Object(c.f)(this.props.entry.item.path)||this.props.entry.item.virtual?[]:[{label:"Rename",handler:this._handleToggleRename,combo:[Et.a.F2]},{label:"Delete",handler:this._handleDelete,combo:[Et.a.Delete]}]]),_t(this,"_renderItem",()=>{const{entry:e}=this.props,{isRenaming:t,name:n}=this.state,i=t?" ":e.item.path.split("/").pop();return o.createElement("div",null,this.state.error?o.createElement("div",{className:Object(r.css)(Dt.error)},this.state.error.message):null,o.createElement(Ct,{entry:e}),o.createElement("span",{className:Object(r.css)(Dt.label,Object(c.m)(e.item.path)?Dt.labelTest:void 0,e.state.isError?Dt.labelError:void 0)},i),t?o.createElement("input",{autoFocus:!0,type:"text",value:n,onChange:this._handleInputChange,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur,onKeyUp:this._handleInputKeyUp,className:Object(r.css)(Dt.input)}):null)}),_t(this,"_renderTree",()=>{const{entry:e,rest:t,clipboard:n,onCreateFile:i,onCreateFolder:a,onOpen:s,onSelect:l,onFocus:c,onPaste:p,onRename:d,onExpand:h,onDelete:m,onCopy:u,onClearClipboard:b,theme:g}=this.props;return"folder"===e.item.type&&t.length&&e.state.isExpanded?o.createElement("div",{className:Object(r.css)(Dt.child)},o.createElement(Pt,{parent:e.item.path,entries:t,clipboard:n,onCreateFile:i,onCreateFolder:a,onOpen:s,onSelect:l,onFocus:c,onCopy:u,onPaste:p,onRename:d,onExpand:h,onDelete:m,onClearClipboard:b,sdkVersion:this.props.sdkVersion,theme:g})):null}),_t(this,"_renderMenuIcon",()=>o.createElement("svg",{className:Object(r.css)(Dt.icon),viewBox:"0 0 16 16"},o.createElement("circle",{cy:"3",cx:"8",r:"1.5"}),o.createElement("circle",{cy:"8",cx:"8",r:"1.5"}),o.createElement("circle",{cy:"13",cx:"8",r:"1.5"})));const{entry:n}=e;this.state={name:n.state.isCreating&&null!==(t=n.item.path.split("/").pop())&&void 0!==t?t:"",error:null,isRenaming:!n.item.asset&&!!n.state.isCreating}}componentDidMount(){this.props.entry.state.isCreating&&this.props.onOpen(this.props.entry.item.path)}render(){var e;const{entry:t,rest:n,onOpen:r,onFocus:i,onRename:a,onExpand:s,theme:l}=this.props,p=!(null!==(e=Object(c.f)(this.props.entry.item.path)||this.props.entry.item.virtual)&&void 0!==e?e:this.props.entry.state.isCreating);return o.createElement(St,{entry:t,rest:n,onOpen:r,onFocus:i,onRename:a,onExpand:s,renderItem:this._renderItem,renderTree:this._renderTree,renderMenuIcon:this._renderMenuIcon,actions:this._getActions(),draggable:p,theme:l})}}const Dt=r.StyleSheet.create({child:{marginLeft:16},label:{verticalAlign:-1,margin:"0 6px",userSelect:"none"},labelError:{color:Object(l.a)("error")},labelTest:{color:Object(l.a)("soft")},input:{position:"absolute",top:0,left:35,height:28,margin:1,border:"1px solid ".concat(Object(l.a)("selected")),borderRadius:3,backgroundColor:Object(l.a)("content"),outline:0,paddingLeft:2},error:{backgroundColor:Object(l.a)("error"),color:Object(l.a)("error-text"),padding:"4px 8px",position:"fixed",marginTop:-32,marginLeft:20,borderRadius:3},icon:{height:16,width:16,opacity:.7,fill:"currentColor"}});function Nt(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pt extends o.PureComponent{constructor(...e){super(...e),Nt(this,"_getImmediateChildren",()=>this.props.entries.filter(e=>!e.item.path.replace(new RegExp("^".concat(ut()(this.props.parent),"/")),"").includes("/")))}render(){const{entries:e,clipboard:t,onCreateFile:n,onCreateFolder:i,onFocus:a,onOpen:s,onSelect:l,onPaste:p,onRename:d,onExpand:h,onDelete:m,onCopy:u,onClearClipboard:b,className:g,theme:f}=this.props;return o.createElement("div",{className:"".concat(Object(r.css)(Mt.container)," ").concat(null!=g?g:"")},this._getImmediateChildren().sort((e,t)=>e.item.type===t.item.type?e.item.path.startsWith(".")&&!t.item.path.startsWith(".")?1:t.item.path.startsWith(".")&&!e.item.path.startsWith(".")?-1:e.item.path.localeCompare(t.item.path):"folder"===e.item.type?-1:1).map(r=>o.createElement(Lt,{key:r.item.path,entry:r,rest:e.filter(e=>Object(c.h)(e.item.path,r.item.path)),clipboard:t,onCreateFile:n,onCreateFolder:i,onOpen:s,onSelect:l,onFocus:a,onCopy:u,onPaste:p,onDelete:m,onRename:d,onExpand:h,onClearClipboard:b,getAdjacentEntries:this._getImmediateChildren,sdkVersion:this.props.sdkVersion,theme:f})))}}const Mt=r.StyleSheet.create({container:{display:"inline-block",width:"100%"}});function It(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tt extends o.PureComponent{constructor(...e){super(...e),It(this,"state",{isHovered:!1,menu:null}),It(this,"_hideContextMenu",()=>this.setState({menu:null})),It(this,"_showContextMenu",e=>{this.setState({menu:{pageX:e.pageX,pageY:e.pageY}})}),It(this,"_handleDocumentClick",e=>{this.state.menu&&this._menu.current&&e.target!==this._menu.current&&!this._menu.current.contains(e.target)&&this._hideContextMenu()}),It(this,"_handleDocumentContextMenu",e=>{var t;e.target===this._item.current||null!==(t=this._item.current)&&void 0!==t&&t.contains(e.target)?(e.preventDefault(),this._showContextMenu(e)):this.state.menu&&this._hideContextMenu()}),It(this,"_handleMouseEnter",()=>this.setState({isHovered:!0})),It(this,"_handleMouseLeave",()=>this.setState({isHovered:!1})),It(this,"_menu",o.createRef()),It(this,"_item",o.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._handleDocumentContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._handleDocumentContextMenu)}render(){const{entry:e,theme:t}=this.props,n=e.item.path.split("/").pop();return o.createElement("li",{ref:this._item,tabIndex:-1,className:Object(r.css)(Rt.item,e.state.isFocused&&("dark"===t?Rt.focusedDark:Rt.focusedLight)),onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},o.createElement("button",{onClick:this.props.onClose,className:Object(r.css)(Rt.close,this.state.isHovered?Rt.closeFocused:Rt.closeBlurred)},"×"),o.createElement("div",{onClick:this.props.onOpen},o.createElement(Ct,{entry:e}),o.createElement("span",{className:Object(r.css)(Rt.label,e.state.isError?Rt.labelError:void 0)},n)),o.createElement(ze,{ref:this._menu,visible:Boolean(this.state.menu),position:this.state.menu,actions:[{label:"Close",handler:this.props.onClose},{label:"Close Others",handler:this.props.onCloseOthers},{label:"Close All",handler:this.props.onCloseAll}],onHide:this._hideContextMenu}))}}var Ft=Object(g.a)(Tt);const Rt=r.StyleSheet.create({item:{paddingLeft:24,cursor:"pointer",outline:0,whiteSpace:"nowrap"},label:{display:"inline-block",verticalAlign:-1,margin:6,userSelect:"none",whiteSpace:"nowrap"},labelError:{color:Object(l.a)("error")},focusedLight:{backgroundColor:"rgba(0, 0, 0, .04)"},focusedDark:{backgroundColor:"rgba(255, 255, 255, .04)"},close:{padding:"7px 8px",fontSize:"18px",border:"none",appearance:"none",position:"absolute",left:0,margin:"-3px 0 0 0",background:"none",outline:0},closeFocused:{opacity:1},closeBlurred:{opacity:0}});function At({title:e,expanded:t,buttons:n,children:i,onClick:a,className:s}){return o.createElement("div",{className:"".concat(null!=s?s:""," ").concat(Object(r.css)(Wt.container))},o.createElement("div",{className:Object(r.css)(Wt.header)},o.createElement("div",{className:Object(r.css)(Wt.left),onClick:a,"data-test-id":"file-list-pane-".concat(e.toLowerCase().replace(/[^a-z]/g,"-"))},o.createElement("svg",{className:Object(r.css)(Wt.collapse,t?Wt.collapseExpanded:Wt.collapseCollapsed),width:"12px",height:"12px",viewBox:"0 0 12 12"},o.createElement("g",{stroke:"none",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("polyline",{stroke:"currentColor",transform:"translate(6.000000, 6.000000) scale(-1, 1) rotate(180.000000) translate(-6.000000, -6.000000) ",points:"2 4 6 8 10 4"}))),o.createElement("h4",{className:Object(r.css)(Wt.label)},e)),o.createElement("div",{className:Object(r.css)(Wt.right)},n)),t?i:null)}const Wt=r.StyleSheet.create({container:{display:"flex",flexDirection:"column"},header:{display:"flex",flexDirection:"row",alignItems:"center",padding:"0 4px"},label:{fontSize:"1em",fontWeight:500,lineHeight:1,margin:0},collapse:{margin:"1px 6px 1px 2px",opacity:.7},collapseCollapsed:{transform:"rotate(180deg)"},collapseExpanded:{transform:"rotate(0deg)"},left:{flex:1,display:"flex",flexDirection:"row",padding:"8px 4px",cursor:"pointer"},right:{display:"flex",flexDirection:"row",alignItems:"center"}});function zt(){return(zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class Ht extends o.PureComponent{render(){const{innerRef:e,...t}=this.props;return o.createElement("button",zt({},t,{className:Object(r.css)(Ut.button),ref:e}),o.createElement("svg",{className:Object(r.css)(Ut.icon),viewBox:"0 0 16 16"},this.props.children))}}var Bt=o.forwardRef((e,t)=>o.createElement(Ht,zt({},e,{innerRef:t})));const Ut=r.StyleSheet.create({button:{appearance:"none",background:"transparent",border:0,margin:0,outline:0},icon:{fill:"currentColor",height:16,width:16,verticalAlign:-3}});function Vt(e,t){return{...e,item:t.item?{...e.item,...t.item}:e.item,state:t.state?{...e.state,...t.state}:e.state}}function Zt(e){if("file"===e.item.type){if(e.state.isSelected||e.state.isFocused||e.state.isOpen)return Vt(e,{state:{isOpen:!1,isSelected:!1,isFocused:!1}})}else if(e.state.isSelected)return Vt(e,{state:{isSelected:!1}});return e}function Kt(e,t,n,r){const i=t?e.find(e=>e.item.path===t):null,a=i?"folder"===i.item.type?i.item.path:Object(c.b)(i.item.path):null,o=n.item.path.split("/").pop(),s=Vt(n,{item:{path:Object(c.c)(e.map(e=>e.item.path),a?"".concat(a,"/").concat(o):o,r)}});return s.state={isCreating:!0},s}function Yt(e,t,n){const r="file"===t?{item:{path:"Untitled file.js",type:"file",content:""},state:{isCreating:!0}}:{item:{path:"Untitled folder",type:"folder"},state:{isCreating:!0}};let i=n;if("string"!=typeof i){const t=e.find(e=>!0===e.state.isSelected);i=t?t.item.path:void 0}const a=Kt(e,i,r);return[...e.map(e=>"folder"===e.item.type&&Object(c.h)(a.item.path,e.item.path)&&!e.state.isExpanded?Vt(e,{state:{isExpanded:!0}}):e),a]}function $t(e,t,n=!1){const r=e.find(e=>e.item.path===t),i=!!r&&"folder"===r.item.type;return e.map(e=>{if(e.item.path===t)return"file"===e.item.type?e.state.isSelected&&e.state.isFocused&&e.state.isOpen?e:Vt(e,{state:{isSelected:!0,isFocused:!0,isOpen:!0}}):Vt(e,{state:{isSelected:!0,isExpanded:n?e.state.isExpanded:!e.state.isExpanded}});if("file"===e.item.type){if(e.state.isSelected||e.state.isFocused)return Vt(e,{state:{isSelected:!1,isFocused:!!i&&e.state.isFocused}})}else if(e.state.isSelected)return Vt(e,{state:{isSelected:!1}});return e})}function Jt(e,t,n){const r=[];let i=Object(c.b)(t);for(;i;){const t=e.find(e=>e.item.path===i);if(t){if("folder"!==t.item.type)throw new Error("File path must be inside a folder");break}r.push({item:{type:"folder",path:i},state:{isExpanded:!!n}}),i=Object(c.b)(i)}return r}const qt=e=>{const t=e.split("/");if(0===t.length)return[];const n=[];for(let e=0;e<t.length-1;e++)n.push(t.slice(0,e+1).join("/"));return n};function Xt(e,t,n,r){const i=!!n.find(({location:t,severity:n})=>(null==t?void 0:t.fileName)===e&&n<0),a=!i&&!!n.find(({location:t,severity:n})=>(null==t?void 0:t.fileName)===e&&n>=3);if("ASSET"===t.type)return r&&"file"===r.item.type&&r.item.asset?r.item.uri===t.contents&&r.state.isError===a&&r.state.isLoading===i?r:{item:{...r.item,uri:t.contents},state:{...r.state,isError:a,isLoading:i}}:{item:{path:e,type:"file",uri:t.contents,asset:!0},state:{isError:a,isLoading:i}};{const n=Object(c.f)(e);return r&&"file"===r.item.type&&!r.item.asset?r.item.content===t.contents&&r.state.isError===a&&r.state.isLoading===i?r:{item:{...r.item,content:t.contents},state:{...r.state,isError:a,isLoading:i}}:{item:{path:e,type:"file",content:t.contents,virtual:"package.json"===e},state:{isOpen:n,isSelected:n,isFocused:n,isError:a,isLoading:i}}}}function Gt(e){return e.find(e=>"file"===e.item.type&&e.state.isFocused)}var Qt=n(845);function en(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tn extends o.PureComponent{constructor(...e){super(...e),en(this,"state",{menu:null}),en(this,"_hideContextMenu",()=>this.setState({menu:null})),en(this,"_showContextMenu",e=>{const{bottom:t,right:n}=e.currentTarget.getBoundingClientRect();this.setState({menu:{pageX:n-8,pageY:t-8}})}),en(this,"_handleDocumentClick",e=>{this.state.menu&&this._button.current&&e.target!==this._button.current&&!this._button.current.contains(e.target)&&this._hideContextMenu()}),en(this,"_toggleContextMenu",e=>{this.state.menu?this._hideContextMenu():this._showContextMenu(e)}),en(this,"_button",o.createRef())}componentDidMount(){document.addEventListener("click",this._handleDocumentClick),document.addEventListener("contextmenu",this._hideContextMenu)}componentWillUnmount(){document.removeEventListener("click",this._handleDocumentClick),document.removeEventListener("contextmenu",this._hideContextMenu)}render(){const e="published"===this.props.saveStatus||"saved-draft"===this.props.saveStatus;return o.createElement("div",null,o.createElement(Bt,{ref:this._button,onClick:this._toggleContextMenu},o.createElement("g",{fillOpacity:"0.7"},o.createElement("circle",{cy:"3",cx:"8",r:"1.5"}),o.createElement("circle",{cy:"8",cx:"8",r:"1.5"}),o.createElement("circle",{cy:"13",cx:"8",r:"1.5"}))),o.createElement(ze,{visible:Boolean(this.state.menu),position:this.state.menu,actions:[{label:"Import files",handler:this.props.onImportFilesClick},{label:"Import git repository",handler:this.props.onImportRepoClick},{label:"Export project",handler:this.props.onExportClick,disabled:!(e&&this.props.hasSnackId)}],onHide:this._hideContextMenu}))}}const nn=[/^\./,/\.(jks|keystore)$/,/^(android|ios)$/,/^coverage$/,/^(js|ts)config\.json$/,/^flow-typed$/,/^node_modules$/,/^npm-debug\.log$/,/^npm-error\.log$/,/^package-lock\.json$/,/^yarn-debug\.log$/,/^yarn-error\.log$/,/^yarn\.lock$/,/^__tests__$/,/^__integration-tests__$/,/^__mocks__$/,/~$/],rn=[/^\.eslintrc(\.json)?$/],an=async(e,t,n)=>{if(!nn.some(t=>t.test(e.name))||rn.some(t=>t.test(e.name)))if(e.isFile){const r=await new Promise((t,n)=>e.file(t,n));t.push({path:n,file:r})}else if(e.isDirectory){const r=e.createReader(),i=await new Promise((e,t)=>r.readEntries(e,t));await Promise.all(i.map(async e=>an(e,t,"".concat(n,"/").concat(e.name))))}};var on=n(656);function sn(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ln extends o.PureComponent{constructor(...e){super(...e),sn(this,"state",{isImportModalShown:!1,isDragging:!1,isImporting:!1,itemsToImport:[],itemsErrored:[],importProgress:0,importTotal:0}),sn(this,"_handleDragOver",e=>{if(bt(e,"Files")){if(e.preventDefault(),this.state.isImportModalShown)return!0;this.state.isDragging||this.setState({isDragging:!0}),clearTimeout(this._dragTimer),this._dragTimer=setTimeout(this._handleDragEnd,300)}}),sn(this,"_handleDragEnd",()=>{this.state.isDragging&&this.setState({isDragging:!1})}),sn(this,"_handleDrop",e=>{if(bt(e,"Files")&&e.dataTransfer&&(e.dataTransfer.items||e.dataTransfer.files)){const t=e.dataTransfer;e.preventDefault();let n=[];n=t.items?Array.from(t.items).map(e=>e.webkitGetAsEntry()).filter(e=>null!=e).map(e=>{const n=Array.from(t.files).find(t=>t.name===e.name);return e.isFile&&n?n:e}):Array.from(t.files),this._handleSelectFilesForImport(n)}}),sn(this,"_dragTimer",void 0),sn(this,"_showImportModal",()=>this.setState({isImportModalShown:!0})),sn(this,"_hideImportModal",()=>this.setState({isImportModalShown:!1,itemsToImport:[]})),sn(this,"_handleSelectFilesForImport",e=>this.setState(t=>({isImportModalShown:!0,itemsToImport:[...t.itemsToImport,...e],itemsErrored:[]}))),sn(this,"_handleImportClick",async()=>{this.setState({isImporting:!0,isImportModalShown:!1,importProgress:0});const e=this.props.entries.map(e=>e.item.path),t={},{itemsToImport:n}=this.state;n.forEach(n=>{n.isDirectory&&(t[n.name]=Object(c.c)(e,n.name))});const r=await async function(e,t){const n=[];return await Promise.all(e.map(e=>{const r=t[e.name]||e.name;return e instanceof File?void n.push({file:e,path:r}):an(e,n,r)})),n}(n,t);this.setState({importTotal:r.length}),await Promise.all(r.map(async({file:e,path:t})=>{try{const n=!Object(c.d)(t)||Object(c.e)(t)?await new Promise((n,r)=>{const i=new FileReader;i.onload=e=>n({item:{path:t,type:"file",content:e.target?e.target.result:""},state:{}}),i.onerror=e=>r(e),i.readAsText(e)}):await this.props.uploadFileAsync(e).then(e=>({item:{path:t,type:"file",uri:e,asset:!0},state:{}}));if(!this.state.itemsToImport.length)return;this.props.onImportFile(n)}catch(t){console.error(t),this.setState(n=>({itemsErrored:[...n.itemsErrored,{item:e,error:t}]}))}finally{this.setState(e=>({importProgress:e.importProgress+1}))}})),this.setState({itemsToImport:[]})}),sn(this,"_handleFilesChange",e=>this._handleSelectFilesForImport(e.target.files)),sn(this,"_handleRemoveFileImport",e=>this.setState(t=>({itemsToImport:t.itemsToImport.filter(t=>t!==e)}))),sn(this,"_handleProgressDismiss",()=>{this.setState({itemsToImport:[],itemsErrored:[],importProgress:0,isImporting:!1})})}componentDidMount(){document.addEventListener("dragover",this._handleDragOver),document.addEventListener("drop",this._handleDrop)}render(){const{isImporting:e,importProgress:t,itemsToImport:n,itemsErrored:i,isDragging:a,isImportModalShown:s,importTotal:l}=this.state,c=t-i.length;return o.createElement("div",{className:this.props.className},this.props.render({onImportStart:this._showImportModal}),e?o.createElement("div",{className:Object(r.css)(cn.importProgress)},o.createElement("div",{className:Object(r.css)(cn.importProgressHeader)},o.createElement("h4",{className:Object(r.css)(cn.importProgressLabel)},0===l?"Reading files…":t===l?"".concat(c," file").concat(1===c?"":"s"," imported").concat(i.length?", ".concat(i.length," failed to import"):" successfully"):"Importing files (".concat(t+1,"/").concat(l,")")),o.createElement("button",{onClick:this._handleProgressDismiss,className:Object(r.css)(cn.importProgressButton)},t===l?"Dismiss":"Cancel")),l?o.createElement("progress",{className:Object(r.css)(cn.importProgressBar),value:t/l*100,max:100}):null):null,o.createElement(on.a,{visible:a},o.createElement("div",{className:Object(r.css)(cn.dropzoneLarge)},o.createElement("h2",null,"Drop anywhere to import"),o.createElement("p",null,"You'll be able to adjust your selection before importing them into your project"))),o.createElement(me.a,{visible:s,onDismiss:this._hideImportModal,title:"Import files"},o.createElement("div",{className:Object(r.css)(cn.dropzoneSmall)},n.length?o.createElement("ul",{className:Object(r.css)(cn.fileList)},n.map((e,t)=>o.createElement("li",{className:Object(r.css)(cn.fileEntry),key:t},o.createElement("span",{className:Object(r.css)(cn.fileEntryName)},e.isDirectory?"".concat(e.name,"/"):e.name),o.createElement("span",{className:Object(r.css)(cn.fileEntrySize)},"number"==typeof e.size?"".concat((e.size/1024).toFixed(2),"kb"):""),o.createElement("button",{onClick:()=>this._handleRemoveFileImport(e),className:Object(r.css)(cn.fileEntryClose)},"×")))):o.createElement("div",{className:Object(r.css)(cn.dropzonePlaceholder)},"Drop your files or",o.createElement("label",{className:Object(r.css)(cn.fileInputLabel)},"browse",o.createElement("input",{multiple:!0,type:"file",onChange:this._handleFilesChange,className:Object(r.css)(cn.fileInput)})))),o.createElement(he.a,{large:!0,variant:"primary",onClick:this._handleImportClick,disabled:!n.length},n.length?"Import ".concat(n.length," item").concat(n.length>=2?"s":""):"Import")))}}const cn=r.StyleSheet.create({dropzoneLarge:{textAlign:"center",padding:48,border:"2px dashed ".concat(Object(l.a)("border")),borderRadius:4},dropzoneSmall:{border:"1px dashed ".concat(Object(l.a)("border")),backgroundColor:Object(l.a)("background"),borderRadius:3,height:"12em",marginBottom:8},dropzonePlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},fileInputLabel:{margin:0,paddingLeft:4,color:Object(l.a)("primary"),fontWeight:"normal",cursor:"pointer",":hover":{textDecoration:"underline"}},fileInput:{display:"none"},fileList:{listStyle:"none",textAlign:"left",padding:0,margin:0,height:"100%",width:"100%",overflow:"auto"},fileEntry:{display:"flex",borderBottom:"1px solid ".concat(Object(l.a)("border")),alignItems:"center"},fileEntrySize:{flex:1,opacity:.5,margin:8},fileEntryName:{margin:8,maxWidth:"15em",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},fileEntryClose:{padding:"4px 12px",margin:"0 4px",fontSize:18,background:"none",border:"none",appearance:"none"},importProgress:{position:"fixed",zIndex:10,left:"1em",bottom:"4em",width:"24em",padding:"8px 16px",borderRadius:3,backgroundColor:Object(l.a)("content"),border:"1px solid ".concat(Object(l.a)("border")),boxShadow:Object(l.c)("popover")},importProgressHeader:{display:"flex",flexDirection:"row",alignItems:"center",margin:"4px 0"},importProgressLabel:{flex:1,fontSize:"1em",fontWeight:500,margin:0},importProgressButton:{appearance:"none",background:"none",border:0,color:Object(l.a)("primary")},importProgressBar:{appearance:"none",width:"100%",margin:"8px 0",height:6,borderRadius:3,overflow:"hidden","::-webkit-progress-bar":{backgroundColor:Object(l.a)("content")},"::-webkit-progress-value":{backgroundColor:Object(l.a)("primary")},"::-moz-progress-bar":{backgroundColor:Object(l.a)("content")},"::-moz-progress-value":{backgroundColor:Object(l.a)("primary")}}});var pn=n(223),dn=n(653);function hn(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mn=()=>o.createElement("g",{transform:"translate(7.000000, 7.000000)"},o.createElement("circle",{fill:Object(l.a)("success"),cx:"4.5",cy:"4.5",r:"4.5"}),o.createElement("rect",{fill:Object(l.a)("success-text"),x:"4",y:"2",width:"1",height:"5"}),o.createElement("rect",{fill:Object(l.a)("success-text"),x:"2",y:"4",width:"5",height:"1"}));class un extends o.PureComponent{constructor(...e){super(...e),hn(this,"state",{clipboard:[],deleted:[],openFilesPane:!0,projectPane:!0,entries:[],selectedFile:""}),hn(this,"_handleEntrySelect",e=>{this.updateEntries(function(e,t){return e.map(e=>e.item.path===t?Vt(e,{state:{isSelected:!e.state.isSelected}}):e)}(this.state.entries,e))}),hn(this,"_handleEntryOpen",e=>{this.updateEntries($t(this.state.entries,e))}),hn(this,"_handleEntryFocus",e=>{this.updateEntries($t(this.state.entries,e,!0))}),hn(this,"_handleEntryExpand",(e,t)=>this.updateEntries(function(e,t,n=!0){return e.map(e=>e.item.path===t&&"folder"===e.item.type?Vt(e,{state:{isExpanded:n}}):e)}(this.state.entries,e,t))),hn(this,"_handleEntryRename",(e,t)=>{if(e===t)return;const n=this.state.entries.find(t=>t.item.path===e);n&&("folder"===n.item.type?this.state.entries.filter(t=>"file"===t.item.type&&t.item.path.startsWith(e)).forEach(n=>{this.props.onRenameFile(n.item.path,"".concat(t).concat(n.item.path.substring(e.length)))}):this.props.onRenameFile(e,t)),this.updateEntries(function(e,t,n){const r=e.find(e=>e.item.path===t);if(!r)return e;const i=Vt(r,{item:{path:n}});delete i.state.isCreating;const a=e.map(e=>e.item.path===r.item.path?i:"folder"===i.item.type&&Object(c.h)(e.item.path,r.item.path)?Vt(e,{item:{path:Object(c.a)(e.item.path,r.item.path,i.item.path)}}):e),o=Jt(a,i.item.path,!0);return[...a,...o]}(this.state.entries,e,t))}),hn(this,"_restoreEntries",e=>this.updateEntries([...this.state.entries,...e.map(e=>Vt(e,{item:{path:Object(c.c)(this.state.entries.map(e=>e.item.path),e.item.path)}}))])),hn(this,"_handleDismissDelete",e=>this.setState(t=>({deleted:t.deleted.filter(t=>t.id!==e)}))),hn(this,"_handleEntryClose",e=>this.updateEntries(this.state.entries.map(t=>t.item.path===e?Zt(t):t))),hn(this,"_handleEntryCloseOthers",e=>this.updateEntries(this.state.entries.map(t=>t.item.path!==e?Zt(t):t))),hn(this,"_handleEntryCloseAll",()=>this.updateEntries(this.state.entries.map(e=>Zt(e)))),hn(this,"_handleEntryDelete",e=>{const t=this.state.entries.find(t=>t.item.path===e),n=[];this.updateEntries(this.state.entries.filter(t=>{const r=t.item.path===e||Object(c.h)(t.item.path,e);return r&&(n.push(t),"file"===t.item.type&&this.props.onRemoveFile(t.item.path)),!r})),this.setState(e=>({deleted:[...e.deleted,{id:this._currentDeleteID++,path:t?t.item.path:"Item",entries:n}]}))}),hn(this,"_currentDeleteID",0),hn(this,"_handleEntryImport",e=>{let t;if(Object(c.j)(e.item.path))t=this.state.entries.map(t=>{if(Object(c.j)(t.item.path))try{const n=JSON.parse(t.item.content),r=JSON.parse(e.item.content);return{...t,item:{...t.item,content:JSON.stringify({...n,dependencies:{...n.dependencies,...Object.keys(r.dependencies).reduce((e,t)=>(Object(ht.d)(t,this.props.sdkVersion,!0)||(e[t]=r.dependencies[t]),e),{})}},null,2)}}}catch{}return t});else if(Object(c.e)(e.item.path))try{const n=JSON.parse(e.item.content);n.plugins&&(n.plugins=n.plugins.filter(e=>Qt.plugins.includes(e)),n.plugins.length||delete n.plugins),n.rules&&(n.rules=dt()(n.rules,(e,t)=>t.includes("/")?Qt.plugins.some(e=>t.startsWith("".concat(e,"/"))):t)),n.extends&&("string"!=typeof n.extends||n.extends.startsWith("eslint:")?(n.extends=n.extends.filter(e=>e.startsWith("eslint:")),n.extends.length||delete n.extends):delete n.extends),t=this.state.entries.filter(e=>!Object(c.e)(e.item.path)),t.push(Vt(e,{item:{content:JSON.stringify(n,null,2)}}))}catch{t=this.state.entries}else{const n=Jt(this.state.entries,e.item.path);t=[...this.state.entries,...n],t.push(Vt(e,{item:{path:Object(c.c)(t.map(e=>e.item.path),e.item.path)}}))}this.updateEntries(t)}),hn(this,"_handleEntryPaste",(e,t)=>this.updateEntries(function(e,t,n){const r=Kt(e,t,n,"- Copy");if("folder"===n.item.type){const t=e.filter(e=>Object(c.h)(e.item.path,n.item.path)).map(e=>Vt(e,{item:{path:Object(c.a)(e.item.path,n.item.path,r.item.path)}}));return[...e,...t,r]}return[...e,r]}(this.state.entries,e,t))),hn(this,"_handleCopy",e=>this.setState(t=>({clipboard:t.entries.filter(t=>t.item.path===e)}))),hn(this,"_handleClearClipboard",()=>this.setState({clipboard:[]})),hn(this,"_toggleOpenFilesPane",()=>this.setState(e=>({openFilesPane:!e.openFilesPane}))),hn(this,"_toggleProjectPane",()=>this.setState(e=>({projectPane:!e.projectPane}))),hn(this,"_handleCreateFile",e=>{let t=Yt(this.state.entries,"file",e);const n=t.find(e=>!this.state.entries.find(t=>t.item.path===e.item.path));t=n?$t(t,n.item.path,!0):t,this.updateEntries(t)}),hn(this,"_handleCreateFolder",e=>{this.updateEntries(Yt(this.state.entries,"folder",e))})}static getDerivedStateFromProps(e,t){let n=function(e,t,n){const r=[],i=new Set;for(const o of Object.keys(e).sort()){for(const e of qt(o)){var a;if(!i.has(e))r.push(null!==(a=n.find(t=>t.item.path===e))&&void 0!==a?a:{item:{path:e,type:"folder"},state:{}}),i.add(e)}const s=e[o],l=n.find(e=>e.item.path===o);r.push(Xt(o,s,t,l))}return n.forEach(e=>{"folder"!==e.item.type||i.has(e.item.path)||r.push(e)}),r}(e.files,e.annotations,t.entries);return n=t.selectedFile!==e.selectedFile?$t(n,e.selectedFile):n,{entries:n,selectedFile:e.selectedFile}}updateEntries(e){const t=this.state.entries;this.setState({entries:e}),this.props.updateFiles(t=>{const n={};for(const r in t){e.find(e=>e.item.path===r)||(n[r]=null)}return e.forEach(e=>{"file"!==e.item.type||t[e.item.path]||Object(c.j)(e.item.path)||(n[e.item.path]={type:e.item.asset?"ASSET":"CODE",contents:e.item.asset?e.item.uri:e.item.content})}),n});const n=Gt(t),r=Gt(e);var i;(null==r?void 0:r.item.path)!==(null==n?void 0:n.item.path)&&this.props.onSelectFile(null!==(i=null==r?void 0:r.item.path)&&void 0!==i?i:"")}render(){return o.createElement(ln,{className:Object(r.css)(gn.container),entries:this.state.entries,onImportFile:this._handleEntryImport,uploadFileAsync:this.props.uploadFileAsync,render:({onImportStart:e})=>this.props.visible?o.createElement(K,{direction:"horizontal",className:Object(r.css)(gn.pane)},o.createElement(pn.a,null,o.createElement(At,{className:Object(r.css)(this.state.projectPane?gn.openFilesSmall:gn.openFilesLarge),title:"Open files",expanded:this.state.openFilesPane,onClick:this._toggleOpenFilesPane},o.createElement("ul",{className:Object(r.css)(gn.tabs),"data-test-id":"file-list-open-files-content"},this.state.entries.filter(e=>"file"===e.item.type&&e.state.isOpen).map(e=>o.createElement(Ft,{key:e.item.path,entry:e,onOpen:()=>this._handleEntryOpen(e.item.path),onClose:()=>this._handleEntryClose(e.item.path),onCloseOthers:()=>this._handleEntryCloseOthers(e.item.path),onCloseAll:this._handleEntryCloseAll})))),o.createElement(At,{className:Object(r.css)(gn.project),title:"Project",expanded:this.state.projectPane,onClick:this._toggleProjectPane,buttons:[o.createElement(Bt,{key:"create-file",onClick:()=>this._handleCreateFile()},o.createElement("path",{fillOpacity:"0.7",d:"M3,2 L13,2 L13,14 L3,14 L3,2 Z M9,2 L13,6 L13,2 L9,2 Z M9,6 L9,2 L8,2 L8,7 L13,7 L13,6 L9,6 Z"}),o.createElement(mn,null)),o.createElement(Bt,{key:"create-folder",onClick:()=>this._handleCreateFolder()},o.createElement("path",{fillOpacity:"0.7",d:"M7.25,4 L7.5,4 L7.5,3 L7,3.5 L7,2 L15,2 L15,4 L7.25,4 Z M6.75,4 L5,4 L7,2 L7,3.5 L6.5,4 L6.75,4 Z M1,4 L15,4 L15,14 L1,14 L1,4 Z M7.5,3 L7.5,4 L14,4 L14,3 L7.5,3 Z"}),o.createElement(mn,null)),o.createElement(tn,{key:"menu",onImportFilesClick:e,onImportRepoClick:()=>this.props.onShowModal("import-repo"),onImportProductionClick:()=>this.props.onShowModal("import-production"),onExportClick:this.props.onDownloadCode,saveStatus:this.props.saveStatus,hasSnackId:this.props.hasSnackId})]},o.createElement(yt,{className:Object(r.css)(gn.files),rest:this.state.entries,onRename:this._handleEntryRename},o.createElement("div",{className:Object(r.css)(gn.children),"data-test-id":"file-list-project-content"},o.createElement(Pt,{parent:"",entries:this.state.entries,clipboard:this.state.clipboard,onCreateFile:this._handleCreateFile,onCreateFolder:this._handleCreateFolder,onOpen:this._handleEntryOpen,onSelect:this._handleEntrySelect,onFocus:this._handleEntryFocus,onPaste:this._handleEntryPaste,onRename:this._handleEntryRename,onExpand:this._handleEntryExpand,onDelete:this._handleEntryDelete,onCopy:this._handleCopy,onClearClipboard:this._handleClearClipboard,sdkVersion:this.props.sdkVersion,theme:this.props.theme,className:Object(r.css)(gn.list)})))),this.state.deleted.map(e=>o.createElement(dn.a,{key:e.id,label:"Deleted ".concat(e.path.split("/").pop()),actions:[{label:"Undo",action:()=>{this._restoreEntries(e.entries),this._handleDismissDelete(e.id)}},{label:"Dismiss"}],onDismiss:()=>this._handleDismissDelete(e.id)})).reverse())):null})}}var bn=Object(g.a)(un);const gn=r.StyleSheet.create({container:{display:"flex",flexDirection:"column"},list:{padding:"0 12px",height:"100%"},pane:{flex:1,display:"flex",flexDirection:"column",width:240,minWidth:240,height:"100%",zIndex:10},project:{flex:1},openFilesSmall:{maxHeight:"50%"},openFilesLarge:{maxHeight:"calc(100% - 30px)"},files:{flex:"1 0 0",overflow:"auto",paddingBottom:16},children:{position:"relative"},tabs:{margin:0,listStyle:"none",padding:"8px 0",overflow:"auto",":empty":{display:"none"}},toolbar:{padding:8},toasts:{position:"fixed",bottom:"3em",left:"1em",zIndex:10}});var fn=n(98);function vn(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yn extends o.PureComponent{constructor(...e){super(...e),vn(this,"state",{isLoading:!1,error:"",url:"",resetDependencies:!0}),vn(this,"_hideImportModal",()=>{this.setState({isLoading:!1,error:"",url:"",resetDependencies:!0}),this.props.onHide()}),vn(this,"_handleImportClick",async e=>{e.preventDefault(),this.setState({isLoading:!0,error:""});try{var t;const e=this.state.url.match(/^https:\/\/snack\.expo\.(io|dev)\/(.*)/);if(!e)throw new Error("Invalid url");const n=e[2],r=await fetch("https://exp.host/--/api/v2/snack/".concat(n),{headers:{"Snack-Api-Version":"3.0.0"}}),i=await r.text(),a=JSON.parse(i);if(null!==(t=a.errors)&&void 0!==t&&t.length)throw new Error(JSON.stringify(a.errors));const o={...a,dependencies:Object(ht.g)(a.dependencies)};this.props.onSubmitMetadata({name:o.manifest.name,description:o.manifest.description}),o.manifest.sdkVersion&&this.props.onChangeSDKVersion(o.manifest.sdkVersion),this.props.updateFiles(e=>{const t={};for(const n in e)t[n]=null;const n="string"==typeof o.code?{"App.js":{contents:o.code,type:"CODE"}}:o.code;for(const e in n)t[e]=n[e];return t}),this.props.updateDependencies(e=>{const t={};for(const n in e)t[n]=null;for(const e in o.dependencies)this.state.resetDependencies?t[e]={version:o.dependencies[e].version}:t[e]=o.dependencies[e];return t}),this.setState({isLoading:!1}),this.props.onHide()}catch(e){this.setState({isLoading:!1,error:e.message})}}),vn(this,"_handleChange",e=>{this.setState({url:e.target.value})}),vn(this,"_toggleResetDependencies",()=>{this.setState(e=>({resetDependencies:!e.resetDependencies}))})}render(){const{visible:e}=this.props,{isLoading:t,error:n,url:i,resetDependencies:a}=this.state;return o.createElement(me.a,{visible:e,onDismiss:this._hideImportModal,title:"Import from production"},t?o.createElement(fn.a,{duration:45e3,className:Object(r.css)(En.progress)}):null,o.createElement("form",{onSubmit:this._handleImportClick},o.createElement("p",{className:n?Object(r.css)(En.errorParagraph):Object(r.css)(En.paragraph)},n?"An error occurred during import. ".concat(n):"Import a saved Snack from production. This will overwrite all your current files and dependencies with the contents of the saved Snack."),o.createElement(ye,{name:"url",value:i,onChange:this._handleChange,placeholder:"https://snack.expo.dev/82kWr6arT",autoFocus:!0}),o.createElement("div",{className:Object(r.css)(En.switch)},o.createElement(P.a,{checked:a,label:"Reset resolved dependencies",onChange:this._toggleResetDependencies})),o.createElement("div",{className:Object(r.css)(En.buttons)},o.createElement(he.a,{large:!0,disabled:!i,loading:t,type:"submit",variant:"primary"},t?"Importing Snack...":"Import Snack"))))}}const En=r.StyleSheet.create({paragraph:{margin:"8px 0 16px"},errorParagraph:{margin:"8px 0 16px",color:Object(l.a)("error")},progress:{marginTop:-16},switch:{display:"flex",flexDirection:"row",alignItems:"center",textAlign:"initial"},buttons:{margin:"16px 0 0 0"}});var wn=n(846),xn=n.n(wn),Sn=n(190),jn=n.n(Sn),Cn=n(18);function On(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _n extends o.PureComponent{constructor(...e){super(...e),On(this,"state",{status:"idle",advanced:!1,url:"",repo:"",path:"",branch:""}),On(this,"_hideImportModal",()=>{Cn.a.getInstance().logEvent("IMPORT_COMPLETED",{reason:"dismiss"},"importStart"),this.setState({status:"idle",url:"",repo:"",path:"",branch:""}),this.props.onHide()}),On(this,"_handleImportRepoClick",async e=>{let t,n;e.preventDefault(),this.setState({status:"importing"}),setTimeout(()=>{this.props.visible&&"importing"===this.state.status&&this.setState({status:"error"})},45e3);let r=!1;try{const e="".concat(this.props.snackagerURL,"/git"),i={repo:this.state.repo};this.state.path&&(i.subpath=this.state.path),this.state.branch&&(i.branch=this.state.branch),t=await fetch("".concat(e,"?").concat(jn.a.stringify(i))),n=await t.text(),this.props.visible&&(t.ok?(Cn.a.getInstance().logEvent("IMPORT_COMPLETED",{reason:"success"},"importStart"),this.props.preventRedirectWarning(),window.location.href="/".concat(n)):r=!0)}catch{r=!0}r?(this.setState({error:n,status:"error"}),Cn.a.getInstance().logEvent("IMPORT_COMPLETED",{reason:"error"},"importStart")):this.setState({status:"idle"})}),On(this,"_handleChange",e=>{this.setState({[e.target.name]:e.target.value})}),On(this,"_handleChangeUrl",e=>{const t=e.target.value,n=xn()(t);this.setState({url:t,repo:"".concat(n.protocol,"://").concat(n.source,"/").concat(n.owner,"/").concat(n.name),path:n.filepath,branch:n.ref})})}render(){const{status:e,error:t,url:n,repo:i,path:a,branch:s,advanced:l}=this.state,c="importing"===e,p="error"===e;return o.createElement(me.a,{visible:this.props.visible,onDismiss:this._hideImportModal,title:"Import git repository"},c?o.createElement(fn.a,{duration:45e3,className:Object(r.css)(kn.progress)}):null,o.createElement("form",{onSubmit:this._handleImportRepoClick},p?o.createElement(o.Fragment,null,o.createElement("p",{className:Object(r.css)(kn.errorParagraph)},"An error occurred during import. This could be because the data provided was invalid, or because the repository referenced is not a properly formatted Expo project."),o.createElement("p",{className:Object(r.css)(kn.errorParagraph)},t)):o.createElement("p",{className:Object(r.css)(kn.paragraph)},"Import an Expo project from a public git repository. Note, files over 10MB are not imported."),l?o.createElement(o.Fragment,null,o.createElement("h4",{className:Object(r.css)(kn.subtitle)},"Repository URL"),o.createElement(ye,{name:"repo",value:i,onChange:this._handleChange,placeholder:"https://github.com/ide/love-languages.git",autoFocus:!0}),o.createElement("h4",{className:Object(r.css)(kn.subtitle)},"Folder path"),o.createElement(ye,{name:"path",value:a,onChange:this._handleChange,placeholder:"/example/app"}),o.createElement("h4",{className:Object(r.css)(kn.subtitle)},"Branch name"),o.createElement(ye,{name:"branch",value:s,onChange:this._handleChange,placeholder:"main"})):o.createElement(o.Fragment,null,o.createElement("h4",{className:Object(r.css)(kn.subtitle)},"Git URL"),o.createElement(ge,{minRows:2,value:n,onChange:this._handleChangeUrl,placeholder:"https://github.com/ide/love-languages/tree/main/app",autoFocus:!0})),o.createElement("button",{type:"button",onClick:()=>this.setState(e=>({advanced:!e.advanced})),className:Object(r.css)(kn.advanced)},l?"Hide":"Show"," advanced options"),o.createElement("div",{className:Object(r.css)(kn.buttons)},o.createElement(he.a,{large:!0,disabled:!i,loading:c,type:"submit",variant:"primary"},c?"Importing repository…":"Import repository"))))}}const kn=r.StyleSheet.create({paragraph:{margin:"8px 0 16px"},errorParagraph:{margin:"8px 0 16px",color:Object(l.a)("error")},subtitle:{fontSize:16,fontWeight:500,padding:0,lineHeight:"22px",margin:"16px 0 6px 0"},progress:{marginTop:-16},advanced:{appearance:"none",background:"none",border:0,padding:"8px 0",marginTop:8,textAlign:"left",width:"100%",color:Object(l.a)("primary")},buttons:{margin:"16px 0 0 0"}});class Ln extends o.PureComponent{render(){return o.createElement("div",{className:Object(r.css)(Dn.container)},o.createElement("h4",{className:Object(r.css)(Dn.text)},"Select a file to view and edit"))}}const Dn=r.StyleSheet.create({container:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},text:{fontSize:"1.5em",fontWeight:500,opacity:.5}});var Nn=n(664),Pn=n(188),Mn=n(857),In=n.n(Mn);class Tn extends o.Component{render(){const{saveHistory:e,theme:t}=this.props,i=e.filter(e=>!e.isDraft);return o.createElement("div",{className:Object(r.css)(Rn.container)},i.length?o.createElement(o.Fragment,null,o.createElement("p",{className:Object(r.css)(Rn.hint)},"Click on a previous save to open it in a new tab. You can make changes and then save it to overwrite the current version, or change the name to save as a new Snack."),i.map(e=>o.createElement("a",{key:e.hashId,target:"_blank",href:"/".concat(e.hashId),className:Object(r.css)(Rn.item)},o.createElement("div",null,o.createElement("h4",{className:Object(r.css)(Rn.title)},In()(e.savedAt,"hh:mm a, dddd")),o.createElement("p",{className:Object(r.css)(Rn.description)},In()(e.savedAt,"Do MMMM YYYY"))),o.createElement("img",{className:Object(r.css)(Rn.icon),src:n("dark"===t?607:606),alt:"Open in new tab"})))):o.createElement("p",{className:Object(r.css)(Rn.placeholder)},"There are no previous saves for this Snack."))}}var Fn=Object(g.a)(Tn);const Rn=r.StyleSheet.create({container:{margin:-12,paddingTop:8,textAlign:"left"},hint:{margin:12},item:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,cursor:"pointer",color:"inherit",textDecoration:"none",borderRadius:3,"--icon-opacity":"0",":hover":{"--icon-opacity":"1",backgroundColor:Object(l.a)("hover")}},title:{fontSize:16,fontWeight:"bold",marginTop:0,marginBottom:4},description:{fontSize:14,margin:0,whiteSpace:"nowrap",textOverflow:"ellipsis"},icon:{margin:8,height:16,width:16,opacity:"var(--icon-opacity)"},placeholder:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:96,margin:24,fontSize:16,opacity:.5}});class An extends o.Component{render(){return o.createElement(me.a,{visible:this.props.visible,onDismiss:this.props.onDismiss,title:"Experience already exists!"},o.createElement("p",{className:Object(r.css)(Wn.text)},'You already have an experience published under "',this.props.username?"@".concat(this.props.username,"/").concat(this.props.slug):this.props.slug,'" in your profile. Please choose another name for the Snack and save again.'),o.createElement(he.a,{large:!0,variant:"secondary",onClick:this.props.onEditName},"Choose another name"))}}const Wn=r.StyleSheet.create({text:{marginTop:12,fontSize:16,textAlign:"center"}});function zn(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Hn extends o.Component{constructor(...e){super(...e),zn(this,"_handleKeyDown",e=>{this.props.visible&&13===e.keyCode&&(e.preventDefault(),this.props.onPublish())})}componentDidMount(){document.addEventListener("keydown",this._handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this._handleKeyDown)}render(){const e="save2"===this.props.authFlow?"Want a stable and easy to remember URL?":"Want to easily find this snack again?",t="save2"===this.props.authFlow?"Save to your Expo Profile":"Save to Profile";return o.createElement(me.a,{visible:this.props.visible,title:"Save your snack",onDismiss:this.props.onDismiss},o.createElement("p",{className:Object(r.css)(Un.text),style:{marginTop:16}},"The shareable link to your Snack"," ",o.createElement("a",{href:this.props.snackUrl,target:"blank"},this.props.snackUrl)),o.createElement("p",{className:Object(r.css)(Un.text)},"Every time you save, you will get a new link to share. ",e," Log in or sign up and save to your profile!"),o.createElement(he.a,{large:!0,variant:"primary",onClick:this.props.onPublish,loading:this.props.isPublishing},t),this.props.zipUrl?o.createElement("p",{className:Object(r.css)(Un.caption)},o.createElement("a",{className:Object(r.css)(Un.link),href:this.props.zipUrl,target:"blank"},"Download .zip file")):null)}}var Bn=Object(s.b)(e=>({authFlow:e.splitTestSettings.authFlow||"save1"}))(Hn);const Un=r.StyleSheet.create({text:{marginBottom:24,fontSize:"16px",padding:"0 24px 0 24px",lineHeight:"22px",textAlign:"center"},caption:{marginTop:24,fontSize:"16px",lineHeight:"22px",textAlign:"center"},link:{color:Object(l.a)("primary"),cursor:"pointer",textDecoration:"underline"}});class Vn extends o.PureComponent{render(){return o.createElement(me.a,{visible:this.props.visible,onDismiss:this.props.onDismiss,title:"Couldn't save the Snack!"},o.createElement("p",{className:Object(r.css)(Zn.text)},"An unknown error occurred when saving your Snack. Please try again later."))}}const Zn=r.StyleSheet.create({text:{marginTop:12,fontSize:16,textAlign:"center"}});function Kn({color:e,segments:t=12,segmentWidth:n=2,segmentLength:i=6,spacing:a=4,fadeTo:s=31/98,fadeSteps:l=6}){const[c]=Object(Le.a)(),{red:p,green:d,blue:h,alpha:m}=void 0!==e?e:"dark"===c.theme?{red:255,green:255,blue:255,alpha:.5}:{red:70,green:48,blue:235,alpha:1},u=2*n+a,b=(1-s)/l,g=[];for(let e=0;e<t;e++){const n=1-Math.min(e,l)*b,r=360*-e/t;g.push(o.createElement("line",{key:e,x1:"0",y1:u,x2:"0",y2:u+i,style:{opacity:n},transform:"rotate(".concat(r,")")}))}const f="rgba(".concat(p,", ").concat(d,", ").concat(h,", ").concat(m,")"),v=u+i+Math.ceil(n/2);return o.createElement("svg",{className:Object(r.css)(Yn.indicator),width:2*v,height:2*v},o.createElement("g",{stroke:f,strokeWidth:n,strokeLinecap:"round",transform:"translate(".concat(v,", ").concat(v,")")},g))}const Yn=r.StyleSheet.create({indicator:{animationDuration:"1s",animationIterationCount:"infinite",animationName:{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},animationTimingFunction:"steps(12)"}});function $n(e){return o.createElement(me.a,{visible:e.visible,onDismiss:e.onDismiss,title:"Saving Snack…"},o.createElement("div",{className:Object(r.css)(Jn.content)},o.createElement(Kn,null)))}const Jn=r.StyleSheet.create({content:{margin:"16px 8px 12px"}});function qn(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Xn extends o.PureComponent{constructor(...e){super(...e),qn(this,"_dismissModal",()=>{this.props.onDismiss&&this.props.onDismiss(),Cn.a.getInstance().logEvent("VIEWED_OWNED_USER_SNACKS")})}componentDidUpdate(e){!e.visible&&this.props.visible&&Cn.a.getInstance().logEvent("CREATED_USER_SNACK")}render(){var e;const t=null===(e=this.props.viewer)||void 0===e?void 0:e.profilePhoto;return o.createElement(me.a,{visible:this.props.visible,onDismiss:this.props.onDismiss},t?o.createElement("div",{className:Object(r.css)(Qn.avatar)},o.createElement(Fe,{source:t,size:80})):null,o.createElement("h2",{className:Object(r.css)(Qn.heading)},"Your Snack was saved"),o.createElement("p",{className:Object(r.css)(Qn.text)},"You can now find your Snack on your profile and link others to it. Share it with your friends!"),this.props.viewer?o.createElement("p",{className:Object(r.css)(Qn.caption)},o.createElement("a",{href:"".concat(Object(Ue.b)(),"/@").concat(this.props.viewer.username,"/snacks"),onClick:this._dismissModal,target:"blank"},"View your Snacks")):null)}}var Gn=Xn;const Qn=r.StyleSheet.create({avatar:{marginTop:16,marginBottom:24,textAlign:"center"},heading:{fontSize:"24px",fontWeight:500,lineHeight:"24px",textAlign:"center"},text:{marginBottom:24,fontSize:"16px",padding:"0 24px 0 24px",lineHeight:"22px",textAlign:"center"},caption:{fontSize:"16px",lineHeight:"22px",textAlign:"center"}});var er=n(665);function tr(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nr extends o.Component{constructor(...e){super(...e),tr(this,"state",{isPublishInProgress:!1,isPublishing:!1,hasShownEditNameDialog:!1,hasShownAccountSaveModal:!1}),tr(this,"_publishWithOptionsAsync",async e=>{this.setState({isPublishing:!0});try{await this.props.onPublishAsync(e)}catch(e){throw/Experience .+ already exists/.test(e.message)?this.props.onShowModal("publish-overwrite-experience-error"):this.props.onShowModal("publish-unknown-error"),e}finally{this.setState({isPublishing:!1})}}),tr(this,"_handleSaveToProfile",async()=>{Boolean(this.props.viewer)?(this.props.onShowModal("publish-working"),this._handlePublishAsync()):window.location.href=Object(Oe.a)({saveToAccount:!0})}),tr(this,"_handleSubmitMetadata",async e=>{this.props.onSubmitMetadata(e),await this._handlePublishAsync()}),tr(this,"_handlePublishAsync",async(e={})=>{this.setState({isPublishInProgress:!0}),this.props.name&&(Object(er.a)(this.props.name)||this.state.hasShownEditNameDialog)?(await this._publishWithOptionsAsync(e),this.props.viewer?this.state.hasShownAccountSaveModal||(this.setState({hasShownAccountSaveModal:!0}),this.props.onShowModal("publish-success")):this.props.onShowModal("publish-prompt-save")):(this.props.onShowModal("publish-edit-name"),this.setState({hasShownEditNameDialog:!0}))}),tr(this,"_handleDismissModal",()=>{this.props.onHideModal(),this.setState({isPublishInProgress:!1})})}render(){const{id:e,viewer:t,name:n,description:r,currentModal:i,children:a}=this.props,{isPublishInProgress:s}=this.state;return o.createElement(o.Fragment,null,a({onPublishAsync:this._handlePublishAsync,isPublishing:this.state.isPublishing}),o.createElement(je,{visible:s&&"publish-edit-name"===i,title:"Save your Snack",action:this.state.isPublishing?"Saving…":"Save",isWorking:this.state.isPublishing,name:n,description:r,onSubmit:this._handleSubmitMetadata,onDismiss:this._handleDismissModal}),o.createElement(Bn,{visible:s&&"publish-prompt-save"===i,snackUrl:e?"".concat(Object(Ue.a)(),"/").concat(e):void 0,onPublish:this._handleSaveToProfile,isPublishing:this.state.isPublishing,onDismiss:this._handleDismissModal}),o.createElement(Gn,{visible:s&&"publish-success"===i,viewer:t,onDismiss:this._handleDismissModal}),o.createElement(Vn,{visible:s&&"publish-unknown-error"===i,onDismiss:this._handleDismissModal}),o.createElement($n,{visible:s&&"publish-working"===i,onDismiss:this._handleDismissModal}),o.createElement(An,{visible:s&&"publish-overwrite-experience-error"===i,slug:n,username:null==t?void 0:t.username,onEditName:()=>this.props.onShowModal("publish-edit-name"),onDismiss:this._handleDismissModal}))}}var rr=Object(Be.a)(nr),ir=n(123),ar=n(124),or=n(222),sr=n(189);async function lr(e,t){const r=t[e];if(r&&"CODE"===r.type){if(Object(c.k)(e)&&r.contents)return async function(e,t,r){const i=Object.keys(r).find(c.e);let a;if(i)try{a=JSON.parse(r[i].contents)}catch{return[{message:"Content of the ESLint config (".concat(i,") is not valid JSON"),location:{fileName:i,startLineNumber:0,endLineNumber:0,startColumn:0,endColumn:0},severity:4,source:"ESLint"}]}const{default:o}=await Promise.all([n.e(26),n.e(17)]).then(n.bind(null,993));return o(e,t,a)}(e,r.contents,t);if(Object(c.i)(e)){const{default:t}=await Promise.all([n.e(27),n.e(18)]).then(n.bind(null,994));return t(e,r.contents)}return[]}return[]}var cr=n(693);function pr(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class dr extends o.Component{constructor(...e){super(...e),pr(this,"state",{currentModal:null,currentBanner:null,loadedEditor:null,isMarkdownPreview:!0,deviceLogsShown:!1,lintedFiles:{},lintAnnotations:[],shouldPreventRedirectWarning:!1}),pr(this,"_handleUnload",e=>{if(!("edited"===this.props.saveStatus||"publishing"===this.props.saveStatus||"saving-draft"===this.props.saveStatus)||this.state.shouldPreventRedirectWarning)return void this._allowRedirectWarning();const t="You have unsaved changes. Are you sure you want to leave this page?";return e.returnValue=t,t}),pr(this,"_lintNotDebounced",async(e,t,n)=>{const{lintedFiles:r}=this.state;let i=null;for(const e in t){var a;const n=t[e];if(!Object(c.m)(e)&&"CODE"===n.type&&n.contents!==(null===(a=r[e])||void 0===a?void 0:a.code)){var o;const a=await lr(e,t);i=null!==(o=i)&&void 0!==o?o:{...r},i[e]={code:n.contents,annotations:a}}}for(const e in r){var s;if(!t[e]||"CODE"!==t[e].type)i=null!==(s=i)&&void 0!==s?s:{...r},delete i[e]}i&&this.setState(()=>({lintedFiles:i,lintAnnotations:Object.values(i).flatMap(({annotations:e})=>e)}))}),pr(this,"_lint",a()(this._lintNotDebounced,500)),pr(this,"_prettier",async()=>{const{selectedFile:e,files:t}=this.props,n=t[e];if("CODE"===(null==n?void 0:n.type)){let t;t=Object(c.i)(e)?JSON.stringify(JSON.parse(n.contents),null,2):await Object(cr.a)(e,n.contents),t!==n.contents&&this.props.updateFiles(()=>({[e]:{type:"CODE",contents:t}}))}}),pr(this,"_showBanner",(e,t=5e3)=>{this.setState({currentBanner:e}),setTimeout(()=>{this.setState(t=>t.currentBanner===e?{currentBanner:null}:null)},t)}),pr(this,"_handleHideModal",()=>{switch(this.state.currentModal){case"edit-info":Cn.a.getInstance().logEvent("DISMISSED_AUTH_MODAL",{currentModal:this.state.currentModal})}this.setState({currentModal:null})}),pr(this,"_handleShowModal",e=>{switch(e){case"device-instructions":Cn.a.getInstance().logEvent("REQUESTED_QR_CODE");break;case"embed":if(!this.props.id)return void this._showBanner("embed-unavailable",5e3);Cn.a.getInstance().logEvent("REQUESTED_EMBED")}this.setState({currentModal:e})}),pr(this,"_handleShowShortcuts",()=>{this._handleShowModal("shortcuts")}),pr(this,"_handleRemoveFile",e=>{var t;null===(t=this._EditorComponent)||void 0===t||t.removePath(e)}),pr(this,"_handleRenameFile",(e,t)=>{var n;null===(n=this._EditorComponent)||void 0===n||n.renamePath(e,t)}),pr(this,"_EditorComponent",void 0),pr(this,"_showErrorPanel",()=>this.props.setPreferences({panelType:"errors"})),pr(this,"_showDeviceLogs",()=>this.props.setPreferences({panelType:"logs"})),pr(this,"_togglePanels",e=>this.props.setPreferences({panelsShown:!this.props.preferences.panelsShown,panelType:e&&!this.props.preferences.panelsShown?e:this.props.preferences.panelType})),pr(this,"_toggleFileTree",()=>this.props.setPreferences({fileTreeShown:!this.props.preferences.fileTreeShown})),pr(this,"_changeConnectionMethod",e=>this.props.setPreferences({deviceConnectionMethod:e})),pr(this,"_toggleEditorMode",()=>{const e="vim"===this.props.preferences.editorMode?"normal":"vim";this.props.setPreferences({editorMode:e}),localStorage.setItem("editorMode",e)}),pr(this,"_toggleTheme",()=>{const e="light"===this.props.preferences.theme?"dark":"light";this.props.setPreferences({theme:e}),localStorage.setItem("theme",e)}),pr(this,"_toggleMarkdownPreview",()=>this.setState(e=>({isMarkdownPreview:!e.isMarkdownPreview}))),pr(this,"_preventRedirectWarning",()=>this.setState({shouldPreventRedirectWarning:!0})),pr(this,"_allowRedirectWarning",()=>this.setState({shouldPreventRedirectWarning:!1}))}static getDerivedStateFromProps(e,t){var n;const{selectedFile:r,files:i}=e;let a=null;return!t.isMarkdownPreview||!r.endsWith(".md")||null!==(n=i[r])&&void 0!==n&&n.contents||(a=a||{},a.isMarkdownPreview=!1),a}componentDidMount(){window.addEventListener("beforeunload",this._handleUnload),setTimeout(()=>{this._lint(this.props.selectedFile,this.props.files,this.props.sdkVersion),Object(cr.a)(Object(c.k)(this.props.selectedFile)?this.props.selectedFile:"index.md","")},5e3),this.props.upgradedFromSDKVersion&&(this.props.upgradedFromSDKVersion>this.props.sdkVersion?this._showBanner("sdk-downgraded"):this._showBanner("sdk-upgraded"))}componentDidUpdate(e){this.props.files!==e.files&&this._lint(this.props.selectedFile,this.props.files,this.props.sdkVersion),e.connectedDevices!==this.props.connectedDevices&&(e.connectedDevices.length<this.props.connectedDevices.length&&(Cn.a.getInstance().logEvent("CONNECTED_DEVICE"),0===e.connectedDevices.length&&Cn.a.getInstance().startTimer("deviceConnected"),this._showBanner("connected",1500)),e.connectedDevices.length>this.props.connectedDevices.length&&(0===this.props.connectedDevices.length?Cn.a.getInstance().logEvent("DISCONNECTED_DEVICE",{},"deviceConnected"):Cn.a.getInstance().logEvent("DISCONNECTED_DEVICE"),this._showBanner("disconnected",1500))),e.sdkVersion!==this.props.sdkVersion&&this.props.connectedDevices.length&&this._showBanner("reconnect"),e.autosaveEnabled===this.props.autosaveEnabled||this.props.autosaveEnabled||this._showBanner("autosave-disabled")}componentWillUnmount(){window.removeEventListener("beforeunload",this._handleUnload)}render(){const{currentModal:e,currentBanner:t,lintAnnotations:i}=this.state,{id:a,createdAt:s,experienceURL:l,experienceName:c,saveHistory:p,saveStatus:h,viewer:m,snackagerURL:g,files:f,selectedFile:y,dependencies:w,isResolving:x,sendCodeOnChangeEnabled:S,sdkVersion:j,isLocalWebPreview:C,userAgent:O,connectedDevices:_,deviceLogs:k,onSendCode:L,onReloadSnack:D,onClearDeviceLogs:N,onChangePlatform:P,onToggleSendCode:M,onTogglePreview:T,uploadFileAsync:F,preferences:R,name:A,description:W,previewRef:z,previewURL:H,platform:B,platformOptions:U,previewShown:V,isDownloading:Z,devices:K}=this.props,Y=i.length?[...this.props.annotations,...i]:this.props.annotations;return o.createElement(ir.a,null,this.state.loadedEditor?null:o.createElement(fn.a,null),o.createElement(Nn.a,{name:A,description:W,id:a}),o.createElement(rr,{id:a,sdkVersion:j,name:A,description:W,onSubmitMetadata:this.props.onSubmitMetadata,onPublishAsync:this.props.onPublishAsync,onShowModal:this._handleShowModal,onHideModal:this._handleHideModal,currentModal:e},({onPublishAsync:i})=>o.createElement(o.Fragment,null,o.createElement(Et.b,{bindings:E.a,onTrigger:e=>{const t={save:"published"===h||this.props.isResolving?null:i,tree:this._toggleFileTree,panels:this._togglePanels,format:this._prettier,shortcuts:this._handleShowShortcuts,update:L}[e];t&&t()}}),o.createElement(Qe,{name:A,description:W,createdAt:s,saveHistory:p,saveStatus:h,sdkVersion:j,viewer:m,isDownloading:Z,isResolving:x,experienceURL:l,visibleModal:e,onShowModal:this._handleShowModal,onHideModal:this._handleHideModal,onSubmitMetadata:this.props.onSubmitMetadata,onDownloadCode:this.props.onDownloadAsync,onPublishAsync:i}),o.createElement("div",{className:Object(r.css)(hr.editorAreaOuterWrapper)},o.createElement("div",{className:Object(r.css)(hr.editorAreaOuter)},o.createElement(or.a,null,o.createElement(bn,{annotations:Y,visible:R.fileTreeShown,files:f,selectedFile:y,updateFiles:this.props.updateFiles,onSelectFile:this.props.onSelectFile,onRemoveFile:this._handleRemoveFile,onRenameFile:this._handleRenameFile,uploadFileAsync:F,onDownloadCode:this.props.onDownloadAsync,onShowModal:this._handleShowModal,hasSnackId:!!a,saveStatus:h,sdkVersion:j}),o.createElement(sr.a,{load:async()=>{if(Object(qe.d)(O)){const e=await Promise.all([n.e(0),n.e(3),n.e(11)]).then(n.bind(null,657));return this.setState({loadedEditor:"simple"}),e}let e;const t=Promise.all([n.e(23),n.e(10)]).then(n.bind(null,991)).then(e=>({editor:e,type:"monaco"})),r=new Promise((t,r)=>{e=setTimeout(()=>{this._showBanner("slow-connection"),Promise.all([n.e(0),n.e(3),n.e(11)]).then(n.bind(null,657)).then(t,r)},3e3)}).then(e=>({editor:e,type:"simple"}));return Promise.race([t.catch(()=>r),r]).then(({editor:t,type:n})=>(this.setState({loadedEditor:n}),clearTimeout(e),t))}},({loaded:e,data:t})=>{this._EditorComponent=t;const i=f[y];if(!i)return o.createElement(Ln,null);{if("ASSET"===i.type)return o.createElement(d,{selectedFile:y,files:f});const{contents:a}=i,s=y.endsWith(".md");if(s&&this.state.isMarkdownPreview)return o.createElement(o.Fragment,null,o.createElement(sr.a,{load:()=>Promise.all([n.e(0),n.e(25),n.e(14)]).then(n.bind(null,992))},({loaded:e,data:t})=>e&&t?o.createElement(t,{source:a}):o.createElement(ar.a,null)),o.createElement("button",{className:Object(r.css)(hr.previewToggle),onClick:this._toggleMarkdownPreview},o.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 18 18",className:Object(r.css)(hr.previewToggleIcon)},o.createElement("g",{transform:"translate(-147.000000, -99.000000)"},o.createElement("g",{transform:"translate(144.000000, 96.000000)"},o.createElement("path",{d:"M3,17.25 L3,21 L6.75,21 L17.81,9.94 L14.06,6.19 L3,17.25 L3,17.25 Z M20.71,7.04 C21.1,6.65 21.1,6.02 20.71,5.63 L18.37,3.29 C17.98,2.9 17.35,2.9 16.96,3.29 L15.13,5.12 L18.88,8.87 L20.71,7.04 L20.71,7.04 Z"}))))));if(e&&t)return o.createElement(o.Fragment,null,o.createElement(t,{dependencies:w,sdkVersion:j,selectedFile:y,files:f,autoFocus:!/Untitled file.*\.(js|tsx?)$/.test(y),annotations:Y,updateFiles:this.props.updateFiles,onSelectFile:this.props.onSelectFile,mode:R.editorMode,lineNumbers:Object(qe.d)(O)?"off":void 0}),s?o.createElement("button",{className:Object(r.css)(hr.previewToggle),onClick:this._toggleMarkdownPreview},o.createElement("svg",{width:"16px",height:"12px",viewBox:"0 0 22 16",className:Object(r.css)(hr.previewToggleIcon)},o.createElement("g",{transform:"translate(-145.000000, -1156.000000)"},o.createElement("g",{transform:"translate(144.000000, 1152.000000)"},o.createElement("path",{d:"M12,4.5 C7,4.5 2.73,7.61 1,12 C2.73,16.39 7,19.5 12,19.5 C17,19.5 21.27,16.39 23,12 C21.27,7.61 17,4.5 12,4.5 L12,4.5 Z M12,17 C9.24,17 7,14.76 7,12 C7,9.24 9.24,7 12,7 C14.76,7 17,9.24 17,12 C17,14.76 14.76,17 12,17 L12,17 Z M12,9 C10.34,9 9,10.34 9,12 C9,13.66 10.34,15 12,15 C13.66,15 15,13.66 15,12 C15,10.34 13.66,9 12,9 L12,9 Z"}))))):null)}return o.createElement(ar.a,null)})),R.panelsShown?o.createElement(J,{annotations:Y,deviceLogs:k,onShowErrorPanel:this._showErrorPanel,onShowDeviceLogs:this._showDeviceLogs,onTogglePanels:this._togglePanels,onClearDeviceLogs:N,onSelectFile:this.props.onSelectFile,panelType:R.panelType}):null),V?o.createElement(b.default,{className:Object(r.css)(hr.preview),width:334,connectedDevices:_,experienceURL:l,experienceName:c,name:A,onChangePlatform:P,onShowModal:this._handleShowModal,onReloadSnack:D,onSendCode:L,onToggleSendCode:M,platform:B,platformOptions:U,previewRef:z,previewURL:H,sdkVersion:j,sendCodeOnChangeEnabled:S,devices:K}):null),o.createElement(I,{annotations:Y,connectedDevices:_,fileTreeShown:R.fileTreeShown,previewShown:V,panelsShown:R.panelsShown,editorMode:R.editorMode,sendCodeOnChangeEnabled:S,sdkVersion:j,isLocalWebPreview:C,onSendCode:L,onReloadSnack:D,onToggleTheme:this._toggleTheme,onTogglePanels:this._togglePanels,onToggleFileTree:this._toggleFileTree,onTogglePreview:T,onToggleSendCode:M,onToggleVimMode:"monaco"===this.state.loadedEditor?this._toggleEditorMode:void 0,onChangeSDKVersion:this.props.onChangeSDKVersion,onShowModal:this._handleShowModal,onPrettifyCode:this._prettier,theme:R.theme}),o.createElement(u.a,{visible:"device-instructions"===e,onDismiss:this._handleHideModal,onChangeMethod:this._changeConnectionMethod,method:R.deviceConnectionMethod,experienceURL:l,isEmbedded:!1}),o.createElement(me.a,{title:"Expo Orbit",visible:"install-orbit"===e,onDismiss:this._handleHideModal},o.createElement(v,null)),o.createElement(me.a,{className:Object(r.css)(hr.embedModal),autoSize:!1,visible:"embed"===e,onDismiss:this._handleHideModal},o.createElement(lt,{id:a,sdkVersion:j,platformOptions:U})),o.createElement(me.a,{visible:"previous-saves"===e,title:"Previous saves",onDismiss:this._handleHideModal},o.createElement(Fn,{saveHistory:p})),o.createElement(me.a,{visible:"shortcuts"===e,onDismiss:this._handleHideModal},o.createElement(E.b,null)),o.createElement(_n,{visible:"import-repo"===e,onHide:this._handleHideModal,preventRedirectWarning:this._preventRedirectWarning,snackagerURL:g}),o.createElement(yn,{visible:"import-production"===e,onHide:this._handleHideModal,onSubmitMetadata:this.props.onSubmitMetadata,onChangeSDKVersion:this.props.onChangeSDKVersion,updateFiles:this.props.updateFiles,updateDependencies:this.props.updateDependencies}),o.createElement(rt.a,{type:"success",visible:"connected"===t},"Device connected!"),o.createElement(rt.a,{type:"error",visible:"disconnected"===t},"Device disconnected!"),o.createElement(rt.a,{type:"info",visible:"autosave-disabled"===t},"Automatic saving has been disabled in this Snack because you have it open in another tab."),o.createElement(rt.a,{type:"info",visible:"sdk-upgraded"===t},"This Snack was written in an older Expo version that is not longer supported. We have upgraded the Expo version to ",j,".",o.createElement("br",null),"You might need to do some manual changes to make the Snack work correctly."),o.createElement(rt.a,{type:"info",visible:"sdk-downgraded"===t},"The requested Expo version is not yet supported. We have downgraded the Expo version to ",j,".",o.createElement("br",null),"You might need to do some manual changes to make the Snack work correctly."),o.createElement(rt.a,{type:"info",visible:"reconnect"===t},"Please close and reopen Expo Go on your phone to see the Expo version change."),o.createElement(rt.a,{type:"info",visible:"slow-connection"===t},"Slow network detected. Trying to load a basic version of the editor. Some features such as linting and autocomplete may not work."),o.createElement(rt.a,{type:"info",visible:"embed-unavailable"===t},"You need to save the Snack first to get an Embed code!"))))}}t.default=Object(Pn.a)(Object(s.b)(e=>({viewer:e.viewer}))(Object(m.a)(dr)));const hr=r.StyleSheet.create({editorAreaOuter:{display:"flex",flex:1,flexDirection:"column",minWidth:0,minHeight:0},editorAreaOuterWrapper:{display:"flex",flex:1,flexDirection:"row",minHeight:0,minWidth:0},embedModal:{minWidth:0,minHeight:0,maxWidth:"calc(100% - 48px)",maxHeight:"calc(100% - 48px)"},preview:{backgroundColor:Object(l.a)("content"),borderLeft:"1px solid ".concat(Object(l.a)("border-editor"))},previewToggle:{appearance:"none",position:"absolute",right:0,bottom:0,margin:32,padding:12,height:48,width:48,border:0,borderRadius:"50%",backgroundColor:Object(l.a)("secondary"),color:Object(l.a)("secondary-text"),outline:0,transitionDuration:"170ms",transitionProperty:"box-shadow",transitionTimingFunction:"linear",":focus-visible":{outline:"auto"},":hover":{boxShadow:Object(l.c)("small")}},previewToggleIcon:{fill:"currentColor",verticalAlign:-1}})},564:function(e,t,n){"use strict";t.a=function(e){if(e.includes("."))switch(e.split(".").pop()){case"js":return"javascript";case"ts":case"tsx":return"typescript";case"json":return"json";case"css":return"css";case"html":return"html";case"md":return"markdown";default:return}}},672:function(e,t,n){e.exports=n.p+"assets/018c0c569c00c0e707dcc30d1f40b354.png"},674:function(e,t,n){e.exports=n.p+"assets/7f658e7f03b868a6e934914996462329.png"},693:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(9);var r=n(564);async function i(e,t){let i,a;switch(Object(r.a)(e)){case"javascript":i="babel",a=[await n.e(4).then(n.t.bind(null,478,7))];break;case"typescript":i="typescript",a=[await Promise.all([n.e(6),n.e(19)]).then(n.t.bind(null,644,7))];break;case"markdown":i="markdown",a=await Promise.all([n.e(4).then(n.t.bind(null,478,7)),Promise.all([n.e(6),n.e(19)]).then(n.t.bind(null,644,7)),n.e(5).then(n.t.bind(null,588,7))])}if(i&&a){const e=await Promise.all([n.e(6),n.e(4),n.e(5),n.e(28),n.e(20)]).then(n.t.bind(null,981,7)),{default:r}=await n.e(16).then(n.t.bind(null,988,3));return e.format(t,{parser:i,plugins:a,...r})}return t}},759:function(e,t,n){e.exports=n.p+"assets/c51d82a43adccd86d66477bfc28dd39b.png"},760:function(e,t,n){e.exports=n.p+"assets/9682e34e1f058feab75a232e3b9f33c6.png"},761:function(e,t,n){e.exports=n.p+"assets/af05a3786092b27e789607af7f5ab349.png"},774:function(e,t,n){e.exports=n.p+"assets/1f423990e6bfdae184f966c86dc22c36.png"},787:function(e,t,n){},820:function(e,t){},834:function(e,t,n){e.exports=n.p+"assets/bc351fd24f9bd32bc131f122d42c1a77.svg"},845:function(e){e.exports=JSON.parse('{"parser":"babel-eslint","parserOptions":{"sourceType":"module"},"env":{"es6":true},"plugins":["babel","flowtype","react","react-native","react-hooks"],"settings":{"flowtype":{"onlyFilesWithFlowAnnotation":true},"react":{"version":"detect"}},"globals":{"__DEV__":false,"__dirname":false,"alert":false,"Blob":false,"cancelAnimationFrame":false,"cancelIdleCallback":false,"clearImmediate":true,"clearInterval":false,"clearTimeout":false,"console":false,"escape":false,"Event":false,"EventTarget":false,"exports":false,"fetch":false,"File":false,"FileReader":false,"FormData":false,"global":false,"Map":true,"module":false,"navigator":false,"process":false,"Promise":true,"requestAnimationFrame":true,"requestIdleCallback":true,"require":false,"Set":true,"setImmediate":true,"setInterval":false,"setTimeout":false,"WebSocket":false,"window":false,"XMLHttpRequest":false},"rules":{"constructor-super":"error","no-case-declarations":"error","no-class-assign":"error","no-cond-assign":"error","no-const-assign":"error","no-constant-condition":"error","no-control-regex":"error","no-delete-var":"error","no-dupe-args":"error","no-dupe-class-members":"error","no-dupe-keys":"error","no-duplicate-case":"error","no-empty":"error","no-empty-character-class":"error","no-empty-pattern":"error","no-ex-assign":"error","no-extra-boolean-cast":"error","no-extra-semi":"error","no-fallthrough":"error","no-func-assign":"error","no-global-assign":"error","no-inner-declarations":"error","no-invalid-regexp":"error","no-new-symbol":"error","no-obj-calls":"error","no-octal":"error","no-redeclare":"error","no-regex-spaces":"error","no-self-assign":"error","no-sparse-arrays":"error","no-this-before-super":"error","no-undef":"error","no-unexpected-multiline":"error","no-unreachable":"error","no-unsafe-finally":"error","no-unsafe-negation":"error","no-unused-labels":"error","require-yield":"error","use-isnan":"error","valid-typeof":"error","flowtype/array-style-complex-type":"off","flowtype/array-style-simple-type":"off","flowtype/boolean-style":"off","flowtype/define-flow-type":"error","flowtype/delimiter-dangle":"off","flowtype/generic-spacing":"off","flowtype/newline-after-flow-annotation":"off","flowtype/no-dupe-keys":"error","flowtype/no-existential-type":"off","flowtype/no-flow-fix-me-comments":"off","flowtype/no-mutable-array":"off","flowtype/no-primitive-constructor-types":"off","flowtype/no-types-missing-file-annotation":"off","flowtype/no-unused-expressions":"off","flowtype/no-weak-types":"off","flowtype/object-type-delimiter":"off","flowtype/require-exact-type":"off","flowtype/require-parameter-type":"off","flowtype/require-return-type":"off","flowtype/require-types-at-top":"off","flowtype/require-valid-file-annotation":"off","flowtype/require-variable-type":"off","flowtype/semi":"off","flowtype/sort-keys":"off","flowtype/space-after-type-colon":"off","flowtype/space-before-generic-bracket":"off","flowtype/space-before-type-colon":"off","flowtype/type-id-match":"off","flowtype/type-import-style":"off","flowtype/union-intersection-spacing":"off","flowtype/use-flow-type":"off","flowtype/valid-syntax":"off","react/jsx-no-duplicate-props":"error","react/jsx-no-undef":"error","react/jsx-uses-react":"error","react/jsx-uses-vars":"error","react/no-deprecated":"error","react/no-did-mount-set-state":"error","react/no-did-update-set-state":"error","react/no-direct-mutation-state":"error","react/no-is-mounted":"error","react/no-string-refs":"error","react/react-in-jsx-scope":"error","react/require-render-return":"error","react-native/no-unused-styles":"error","react-hooks/rules-of-hooks":"error","react-hooks/exhaustive-deps":"error"}}')}}]);